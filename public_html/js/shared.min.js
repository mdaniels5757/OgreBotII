(function(){var e=e||{};e.scope={};e.ASSUME_ES5=!1;e.ASSUME_NO_NATIVE_MAP=!1;e.ASSUME_NO_NATIVE_SET=!1;e.defineProperty=e.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(a,b,c){a!=Array.prototype&&a!=Object.prototype&&(a[b]=c.value)};e.getGlobal=function(a){return"undefined"!=typeof window&&window===a?a:"undefined"!=typeof global&&null!=global?global:a};e.global=e.getGlobal(this);e.SYMBOL_PREFIX="jscomp_symbol_";
e.initSymbol=function(){e.initSymbol=function(){};e.global.Symbol||(e.global.Symbol=e.Symbol)};e.Symbol=function(){var a=0;return function(b){return e.SYMBOL_PREFIX+(b||"")+a++}}();e.initSymbolIterator=function(){e.initSymbol();var a=e.global.Symbol.iterator;a||(a=e.global.Symbol.iterator=e.global.Symbol("iterator"));"function"!=typeof Array.prototype[a]&&e.defineProperty(Array.prototype,a,{configurable:!0,writable:!0,value:function(){return e.arrayIterator(this)}});e.initSymbolIterator=function(){}};
e.arrayIterator=function(a){var b=0;return e.iteratorPrototype(function(){return b<a.length?{done:!1,value:a[b++]}:{done:!0}})};e.iteratorPrototype=function(a){e.initSymbolIterator();a={next:a};a[e.global.Symbol.iterator]=function(){return this};return a};e.makeIterator=function(a){e.initSymbolIterator();e.initSymbol();e.initSymbolIterator();var b=a[Symbol.iterator];return b?b.call(a):e.arrayIterator(a)};
e.polyfill=function(a,b){if(b){var c=e.global;a=a.split(".");for(var d=0;d<a.length-1;d++){var f=a[d];f in c||(c[f]={});c=c[f]}a=a[a.length-1];d=c[a];b=b(d);b!=d&&null!=b&&e.defineProperty(c,a,{configurable:!0,writable:!0,value:b})}};e.FORCE_POLYFILL_PROMISE=!1;
e.polyfill("Promise",function(a){function b(a){this.state_=0;this.result_=void 0;this.onSettledCallbacks_=[];var b=this.createResolveAndReject_();try{a(b.resolve,b.reject)}catch(l){b.reject(l)}}function c(){this.batch_=null}function d(a){return a instanceof b?a:new b(function(b){b(a)})}if(a&&!e.FORCE_POLYFILL_PROMISE)return a;c.prototype.asyncExecute=function(a){null==this.batch_&&(this.batch_=[],this.asyncExecuteBatch_());this.batch_.push(a);return this};c.prototype.asyncExecuteBatch_=function(){var a=
this;this.asyncExecuteFunction(function(){a.executeBatch_()})};var f=e.global.setTimeout;c.prototype.asyncExecuteFunction=function(a){f(a,0)};c.prototype.executeBatch_=function(){for(;this.batch_&&this.batch_.length;){var a=this.batch_;this.batch_=[];for(var b=0;b<a.length;++b){var c=a[b];delete a[b];try{c()}catch(m){this.asyncThrow_(m)}}}this.batch_=null};c.prototype.asyncThrow_=function(a){this.asyncExecuteFunction(function(){throw a;})};b.prototype.createResolveAndReject_=function(){function a(a){return function(h){c||
(c=!0,a.call(b,h))}}var b=this,c=!1;return{resolve:a(this.resolveTo_),reject:a(this.reject_)}};b.prototype.resolveTo_=function(a){if(a===this)this.reject_(new TypeError("A Promise cannot resolve to itself"));else if(a instanceof b)this.settleSameAsPromise_(a);else{a:switch(typeof a){case "object":var c=null!=a;break a;case "function":c=!0;break a;default:c=!1}c?this.resolveToNonPromiseObj_(a):this.fulfill_(a)}};b.prototype.resolveToNonPromiseObj_=function(a){var b=void 0;try{b=a.then}catch(l){this.reject_(l);
return}"function"==typeof b?this.settleSameAsThenable_(b,a):this.fulfill_(a)};b.prototype.reject_=function(a){this.settle_(2,a)};b.prototype.fulfill_=function(a){this.settle_(1,a)};b.prototype.settle_=function(a,b){if(0!=this.state_)throw Error("Cannot settle("+a+", "+b|"): Promise already settled in state"+this.state_);this.state_=a;this.result_=b;this.executeOnSettledCallbacks_()};b.prototype.executeOnSettledCallbacks_=function(){if(null!=this.onSettledCallbacks_){for(var a=this.onSettledCallbacks_,
b=0;b<a.length;++b)a[b].call(),a[b]=null;this.onSettledCallbacks_=null}};var g=new c;b.prototype.settleSameAsPromise_=function(a){var b=this.createResolveAndReject_();a.callWhenSettled_(b.resolve,b.reject)};b.prototype.settleSameAsThenable_=function(a,b){var c=this.createResolveAndReject_();try{a.call(b,c.resolve,c.reject)}catch(m){c.reject(m)}};b.prototype.then=function(a,c){function d(a,b){return"function"==typeof a?function(b){try{g(a(b))}catch(w){h(w)}}:b}var g,h,f=new b(function(a,b){g=a;h=b});
this.callWhenSettled_(d(a,g),d(c,h));return f};b.prototype.catch=function(a){return this.then(void 0,a)};b.prototype.callWhenSettled_=function(a,b){function c(){switch(d.state_){case 1:a(d.result_);break;case 2:b(d.result_);break;default:throw Error("Unexpected state: "+d.state_);}}var d=this;null==this.onSettledCallbacks_?g.asyncExecute(c):this.onSettledCallbacks_.push(function(){g.asyncExecute(c)})};b.resolve=d;b.reject=function(a){return new b(function(b,c){c(a)})};b.race=function(a){return new b(function(b,
c){for(var g=e.makeIterator(a),f=g.next();!f.done;f=g.next())d(f.value).callWhenSettled_(b,c)})};b.all=function(a){var c=e.makeIterator(a),g=c.next();return g.done?d([]):new b(function(a,b){function f(b){return function(c){h[b]=c;k--;0==k&&a(h)}}var h=[],k=0;do h.push(void 0),k++,d(g.value).callWhenSettled_(f(h.length-1),b),g=c.next();while(!g.done)})};return b},"es6","es3");
e.executeAsyncGenerator=function(a){function b(b){return a.next(b)}function c(b){return a.throw(b)}return new Promise(function(d,f){function g(a){a.done?d(a.value):Promise.resolve(a.value).then(b,c).then(g,f)}g(a.next())})};e.iteratorFromArray=function(a,b){e.initSymbolIterator();a instanceof String&&(a+="");var c=0,d={next:function(){if(c<a.length){var f=c++;return{value:b(f,a[f]),done:!1}}d.next=function(){return{done:!0,value:void 0}};return d.next()}};d[Symbol.iterator]=function(){return d};return d};
e.polyfill("Array.prototype.keys",function(a){return a?a:function(){return e.iteratorFromArray(this,function(a){return a})}},"es6","es3");function n(a){var b=Date.now().toString();do var c=a+"-"+b++;while($("."+c)[0]);return c}Array.prototype._flatten=function(){return this.reduce(function(a,b){return a.concat(b)},[])};function p(a,b){this.dialog=$(a).dialog($.extend({},{autoOpen:!1,modal:!0,width:600},b))}p.prototype.addOpenButton=function(a){$(a).click(this.open.bind(this))};
p.prototype.addCloseButton=function(a){$(a).click(this.close.bind(this))};p.prototype.open=function(){this.dialog.dialog("open")};p.prototype.close=function(){this.dialog.dialog("close")};window.MDialog=p;
function q(){var a=this;this.listeners=[];this._promise=new Promise(function(b,c){window.setIntervalImmediate(function(){var d=$("input[data-xd-auto]");if(d[0]){var f=function(){l.off("message",null,k);m&&window.clearTimeout(m)},g=$(d).data(),h=g.xdDomain;d=g.xdPath;g=g.xdTimeout;var k=function(c){c=c.originalEvent;c.origin===h&&"ping"===c.data&&(b(),f(),l.on("message",function(b){var c=b.originalEvent;c.origin===h&&a.listeners.forEach(function(a){a(c.data)})}))},l=$(window),m=g&&window.setTimeout(function(){c();
f()},g);l.on("message",k);a.iframe=$("<iframe/>").attr({style:"display: none",src:h+"/"+d}).appendTo("body");a.origin=h;return!1}(d=$.isReady)&&c();return!d},100)})}q.prototype.addListener=function(a){this.listeners.push(a)};q.prototype.postMessage=function(a){this.iframe[0].contentWindow.postMessage(a,this.origin)};q.prototype.ready=function(){return this._promise};window.XDomain=q;
window.topBar=function(a){function b(a,b){$(b).css("top",26*a+"px")}"object"!==typeof a&&(a={message:a});var c=$(".topbar:last"),d=$("<div />",{"class":"topbar",text:a.message}).css(a.css||{});window.setTimeout(function(){d.remove();$(".topbar").each(b)},a.delay||5E3);c[0]?c.after(d):$("body").prepend(d);b($(".topbar").length-1,d)};window.setIntervalImmediate=function(a,b){function c(){!1===a()&&window.clearInterval(d)}var d=window.setInterval(c,b);c()};
window.sortByKey=function(a){var b=Object.keys(a);b.sort();b.forEach(function(b){var c=a[b];delete a[b];a[b]=c});return a};var FileReader=window.FileReader,r={type:"text"},t={},u={};Object.keys(FileReader.prototype).forEach(function(a){var b=a.match(/^on([a-z]+)$/),c=a.match(/^readAs([A-Za-z]+)$/);b&&(u[a]=b[1]);c&&(b=c[1],b=b.charAt(0).toLowerCase()+b.slice(1),t[b]=a)});
$.fn.fileReader=function(a){var b=this.filter("input[type='file']"),c={};a=$.extend({},a,r);$.each(u,function(b){var d=a[this];d&&(c[b]=d)});var d=t[a.type];if(!d)throw"Illegal readAs type: "+a.type;b.each(function(){var a=$(this),b=new FileReader;$.extend(b,c);a.change(function(c){$.each(c.target.files,function(){b[d](this)});a.val("")})});return this};
function v(a,b){var c=$("#web-root").val()||".";this._jq=a;this._div=$("<div class='spinner-div'/>").hide().append("<div/>").append($("<img src='"+c+"/images/ajax-loader.gif'/>")).appendTo("body").show(b);this.redraw()}
v.prototype.redraw=function(){var a=this._jq.map(function(){var a=$(this),b=a.offset()||{top:0,left:0};return $.extend(b,{bottom:b.top+a.outerHeight(!0),right:b.left+a.outerWidth()})}),b=e.makeIterator([["top"],["left"],["bottom",1],["right",1]].map(function(b){b=e.makeIterator(b);var c=b.next().value;b=b.next().value;return Math[b?"max":"min"].apply(window,$.map(a,function(a){return a[c]}))})),c=b.next().value,d=b.next().value,f=b.next().value;b=b.next().value;this._div.css({width:b-d+"px",height:f-
c+"px",top:c+"px",left:d+"px"})};
v.prototype.remove=function(a){var b=this;return e.executeAsyncGenerator(function(){function c(c,f,k){for(;;)switch(d){case 0:return d=1,{value:b._div.hide(a).promise(),done:!1};case 1:if(1!=c){d=2;break}d=-1;throw k;case 2:b._div.remove(),d=-1;default:return{value:void 0,done:!0}}}var d=0,f={next:function(a){return c(0,a,void 0)},throw:function(a){return c(1,void 0,a)},return:function(){throw Error("Not yet implemented");}};e.initSymbolIterator();f[Symbol.iterator]=function(){return this};return f}())};
function x(){this.store=[]}x.prototype.create=function(a,b){this.store.push(new v(a,b))};x.prototype.redraw=function(a){this.get(a).forEach(function(a){a.redraw.call(a)})};x.prototype.remove=function(a,b){var c=this;this.get(a).forEach(function(a){c.store=c.store.filter(function(b){return a!==b});a.remove.call(a,b)})};x.prototype.get=function(a){var b=this.store;a&&(b=b.filter(function(b){return!b._jq.not(a)[0]&&!$(a).not(b._jq)[0]}));return b};var y=new x;$.spinner={all:y};
$.fn.spinner=function(a){this[0]&&("redraw"===a?y.redraw(this):"remove"===a?y.remove(this):y.create(this,a));return this};$.fn.getTooltipContent=function(){return $(this.data("tooltip-content"))};$.fn.closeTooltip=function(){return this.data("keepOpen",0).tooltip("close")};
$(function(){$(".tooltip-div").click(function(a){a.preventDefault()}).each(function(){function a(){b.tooltip("open")}var b=$(this),c=b.attr("id"),d=b.data("tooltipClass"),f=$("<span class='glyphicon glyphicon-question-sign tooltip-icon'/>"),g=n("tooltip"),h="."+g;d&&f.addClass(d);f=f.prependTo(this);b.tooltip({content:function(){return $(".tooltip-text").filter(function(){return $(this).data("for")===c}).html()},close:function(){b.data("keepOpen")&&a()},open:function(){$(h).hover(a,function(){b.tooltip("close")})},
items:b,hide:300,tooltipClass:g}).data("tooltip-content",h);$("*").click(function(c){c=!!$(c.target).closest(b.add(h))[0];b.data("keepOpen",c);c?a():b.tooltip("close")})})});}).call(this);

//# sourceMappingURL=js/shared.js.map
