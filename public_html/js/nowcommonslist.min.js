(function(){var c=c||{};c.scope={};c.ASSUME_ES5=!1;c.ASSUME_NO_NATIVE_MAP=!1;c.ASSUME_NO_NATIVE_SET=!1;c.defineProperty=c.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(a,b,e){a!=Array.prototype&&a!=Object.prototype&&(a[b]=e.value)};c.getGlobal=function(a){return"undefined"!=typeof window&&window===a?a:"undefined"!=typeof global&&null!=global?global:a};c.global=c.getGlobal(this);c.SYMBOL_PREFIX="jscomp_symbol_";
c.initSymbol=function(){c.initSymbol=function(){};c.global.Symbol||(c.global.Symbol=c.Symbol)};c.Symbol=function(){var a=0;return function(b){return c.SYMBOL_PREFIX+(b||"")+a++}}();c.initSymbolIterator=function(){c.initSymbol();var a=c.global.Symbol.iterator;a||(a=c.global.Symbol.iterator=c.global.Symbol("iterator"));"function"!=typeof Array.prototype[a]&&c.defineProperty(Array.prototype,a,{configurable:!0,writable:!0,value:function(){return c.arrayIterator(this)}});c.initSymbolIterator=function(){}};
c.initSymbolAsyncIterator=function(){c.initSymbol();var a=c.global.Symbol.asyncIterator;a||(a=c.global.Symbol.asyncIterator=c.global.Symbol("asyncIterator"));c.initSymbolAsyncIterator=function(){}};c.arrayIterator=function(a){var b=0;return c.iteratorPrototype(function(){return b<a.length?{done:!1,value:a[b++]}:{done:!0}})};c.iteratorPrototype=function(a){c.initSymbolIterator();a={next:a};a[c.global.Symbol.iterator]=function(){return this};return a};
c.makeIterator=function(a){c.initSymbolIterator();c.initSymbol();c.initSymbolIterator();var b=a[Symbol.iterator];return b?b.call(a):c.arrayIterator(a)};c.polyfill=function(a,b){if(b){var e=c.global;a=a.split(".");for(var f=0;f<a.length-1;f++){var g=a[f];g in e||(e[g]={});e=e[g]}a=a[a.length-1];f=e[a];b=b(f);b!=f&&null!=b&&c.defineProperty(e,a,{configurable:!0,writable:!0,value:b})}};c.FORCE_POLYFILL_PROMISE=!1;
c.polyfill("Promise",function(a){function b(a){this.state_=0;this.result_=void 0;this.onSettledCallbacks_=[];var b=this.createResolveAndReject_();try{a(b.resolve,b.reject)}catch(k){b.reject(k)}}function e(){this.batch_=null}function f(a){return a instanceof b?a:new b(function(b){b(a)})}if(a&&!c.FORCE_POLYFILL_PROMISE)return a;e.prototype.asyncExecute=function(a){null==this.batch_&&(this.batch_=[],this.asyncExecuteBatch_());this.batch_.push(a);return this};e.prototype.asyncExecuteBatch_=function(){var a=
this;this.asyncExecuteFunction(function(){a.executeBatch_()})};var g=c.global.setTimeout;e.prototype.asyncExecuteFunction=function(a){g(a,0)};e.prototype.executeBatch_=function(){for(;this.batch_&&this.batch_.length;){var a=this.batch_;this.batch_=[];for(var b=0;b<a.length;++b){var k=a[b];a[b]=null;try{k()}catch(p){this.asyncThrow_(p)}}}this.batch_=null};e.prototype.asyncThrow_=function(a){this.asyncExecuteFunction(function(){throw a;})};b.prototype.createResolveAndReject_=function(){function a(a){return function(d){k||
(k=!0,a.call(b,d))}}var b=this,k=!1;return{resolve:a(this.resolveTo_),reject:a(this.reject_)}};b.prototype.resolveTo_=function(a){if(a===this)this.reject_(new TypeError("A Promise cannot resolve to itself"));else if(a instanceof b)this.settleSameAsPromise_(a);else{a:switch(typeof a){case "object":var d=null!=a;break a;case "function":d=!0;break a;default:d=!1}d?this.resolveToNonPromiseObj_(a):this.fulfill_(a)}};b.prototype.resolveToNonPromiseObj_=function(a){var b=void 0;try{b=a.then}catch(k){this.reject_(k);
return}"function"==typeof b?this.settleSameAsThenable_(b,a):this.fulfill_(a)};b.prototype.reject_=function(a){this.settle_(2,a)};b.prototype.fulfill_=function(a){this.settle_(1,a)};b.prototype.settle_=function(a,b){if(0!=this.state_)throw Error("Cannot settle("+a+", "+b+"): Promise already settled in state"+this.state_);this.state_=a;this.result_=b;this.executeOnSettledCallbacks_()};b.prototype.executeOnSettledCallbacks_=function(){if(null!=this.onSettledCallbacks_){for(var a=0;a<this.onSettledCallbacks_.length;++a)d.asyncExecute(this.onSettledCallbacks_[a]);
this.onSettledCallbacks_=null}};var d=new e;b.prototype.settleSameAsPromise_=function(a){var b=this.createResolveAndReject_();a.callWhenSettled_(b.resolve,b.reject)};b.prototype.settleSameAsThenable_=function(a,b){var k=this.createResolveAndReject_();try{a.call(b,k.resolve,k.reject)}catch(p){k.reject(p)}};b.prototype.then=function(a,d){function k(a,b){return"function"==typeof a?function(b){try{e(a(b))}catch(y){f(y)}}:b}var e,f,g=new b(function(a,b){e=a;f=b});this.callWhenSettled_(k(a,e),k(d,f));return g};
b.prototype.catch=function(a){return this.then(void 0,a)};b.prototype.callWhenSettled_=function(a,b){function k(){switch(e.state_){case 1:a(e.result_);break;case 2:b(e.result_);break;default:throw Error("Unexpected state: "+e.state_);}}var e=this;null==this.onSettledCallbacks_?d.asyncExecute(k):this.onSettledCallbacks_.push(k)};b.resolve=f;b.reject=function(a){return new b(function(b,d){d(a)})};b.race=function(a){return new b(function(b,d){for(var k=c.makeIterator(a),e=k.next();!e.done;e=k.next())f(e.value).callWhenSettled_(b,
d)})};b.all=function(a){var d=c.makeIterator(a),k=d.next();return k.done?f([]):new b(function(a,b){function e(b){return function(d){g[b]=d;p--;0==p&&a(g)}}var g=[],p=0;do g.push(void 0),p++,f(k.value).callWhenSettled_(e(g.length-1),b),k=d.next();while(!k.done)})};return b},"es6","es3");c.underscoreProtoCanBeSet=function(){var a={a:!0},b={};try{return b.__proto__=a,b.a}catch(e){}return!1};
c.setPrototypeOf="function"==typeof Object.setPrototypeOf?Object.setPrototypeOf:c.underscoreProtoCanBeSet()?function(a,b){a.__proto__=b;if(a.__proto__!==b)throw new TypeError(a+" is not extensible");return a}:null;c.generator={};c.generator.ensureIteratorResultIsObject_=function(a){if(!(a instanceof Object))throw new TypeError("Iterator result "+a+" is not an object");};
c.generator.Context=function(){this.isRunning_=!1;this.yieldAllIterator_=null;this.yieldResult=void 0;this.nextAddress=1;this.finallyAddress_=this.catchAddress_=0;this.finallyContexts_=this.abruptCompletion_=null};c.generator.Context.prototype.start_=function(){if(this.isRunning_)throw new TypeError("Generator is already running");this.isRunning_=!0};c.generator.Context.prototype.stop_=function(){this.isRunning_=!1};
c.generator.Context.prototype.jumpToErrorHandler_=function(){this.nextAddress=this.catchAddress_||this.finallyAddress_};c.generator.Context.prototype.next_=function(a){this.yieldResult=a};c.generator.Context.prototype.throw_=function(a){this.abruptCompletion_={exception:a,isException:!0};this.jumpToErrorHandler_()};c.generator.Context.prototype.return=function(a){this.abruptCompletion_={return:a};this.nextAddress=this.finallyAddress_};
c.generator.Context.prototype.jumpThroughFinallyBlocks=function(a){this.abruptCompletion_={jumpTo:a};this.nextAddress=this.finallyAddress_};c.generator.Context.prototype.yield=function(a,b){this.nextAddress=b;return{value:a}};c.generator.Context.prototype.yieldAll=function(a,b){a=c.makeIterator(a);var e=a.next();c.generator.ensureIteratorResultIsObject_(e);if(e.done)this.yieldResult=e.value,this.nextAddress=b;else return this.yieldAllIterator_=a,this.yield(e.value,b)};
c.generator.Context.prototype.jumpTo=function(a){this.nextAddress=a};c.generator.Context.prototype.jumpToEnd=function(){this.nextAddress=0};c.generator.Context.prototype.setCatchFinallyBlocks=function(a,b){this.catchAddress_=a;void 0!=b&&(this.finallyAddress_=b)};c.generator.Context.prototype.setFinallyBlock=function(a){this.catchAddress_=0;this.finallyAddress_=a||0};c.generator.Context.prototype.leaveTryBlock=function(a,b){this.nextAddress=a;this.catchAddress_=b||0};
c.generator.Context.prototype.enterCatchBlock=function(a){this.catchAddress_=a||0;a=this.abruptCompletion_.exception;this.abruptCompletion_=null;return a};c.generator.Context.prototype.enterFinallyBlock=function(a,b,e){e?this.finallyContexts_[e]=this.abruptCompletion_:this.finallyContexts_=[this.abruptCompletion_];this.catchAddress_=a||0;this.finallyAddress_=b||0};
c.generator.Context.prototype.leaveFinallyBlock=function(a,b){b=this.finallyContexts_.splice(b||0)[0];if(b=this.abruptCompletion_=this.abruptCompletion_||b){if(b.isException)return this.jumpToErrorHandler_();void 0!=b.jumpTo&&this.finallyAddress_<b.jumpTo?(this.nextAddress=b.jumpTo,this.abruptCompletion_=null):this.nextAddress=this.finallyAddress_}else this.nextAddress=a};c.generator.Context.prototype.forIn=function(a){return new c.generator.Context.PropertyIterator(a)};
c.generator.Context.PropertyIterator=function(a){this.object_=a;this.properties_=[];for(var b in a)this.properties_.push(b);this.properties_.reverse()};c.generator.Context.PropertyIterator.prototype.getNext=function(){for(;0<this.properties_.length;){var a=this.properties_.pop();if(a in this.object_)return a}return null};c.generator.Engine_=function(a){this.context_=new c.generator.Context;this.program_=a};
c.generator.Engine_.prototype.next_=function(a){this.context_.start_();if(this.context_.yieldAllIterator_)return this.yieldAllStep_(this.context_.yieldAllIterator_.next,a,this.context_.next_);this.context_.next_(a);return this.nextStep_()};c.generator.Engine_.prototype.return_=function(a){this.context_.start_();var b=this.context_.yieldAllIterator_;if(b)return this.yieldAllStep_("return"in b?b["return"]:function(a){return{value:a,done:!0}},a,this.context_.return);this.context_.return(a);return this.nextStep_()};
c.generator.Engine_.prototype.throw_=function(a){this.context_.start_();if(this.context_.yieldAllIterator_)return this.yieldAllStep_(this.context_.yieldAllIterator_["throw"],a,this.context_.next_);this.context_.throw_(a);return this.nextStep_()};
c.generator.Engine_.prototype.yieldAllStep_=function(a,b,e){try{var f=a.call(this.context_.yieldAllIterator_,b);c.generator.ensureIteratorResultIsObject_(f);if(!f.done)return this.context_.stop_(),f;var g=f.value}catch(d){return this.context_.yieldAllIterator_=null,this.context_.throw_(d),this.nextStep_()}this.context_.yieldAllIterator_=null;e.call(this.context_,g);return this.nextStep_()};
c.generator.Engine_.prototype.nextStep_=function(){for(;this.context_.nextAddress;)try{var a=this.program_(this.context_);if(a)return this.context_.stop_(),{value:a.value,done:!1}}catch(b){this.context_.yieldResult=void 0,this.context_.throw_(b)}this.context_.stop_();if(this.context_.abruptCompletion_){a=this.context_.abruptCompletion_;this.context_.abruptCompletion_=null;if(a.isException)throw a.exception;return{value:a.return,done:!0}}return{value:void 0,done:!0}};
c.generator.Generator_=function(a){this.next=function(b){return a.next_(b)};this.throw=function(b){return a.throw_(b)};this.return=function(b){return a.return_(b)};c.initSymbolIterator();c.initSymbol();c.initSymbolIterator();this[Symbol.iterator]=function(){return this}};c.generator.createGenerator=function(a,b){b=new c.generator.Generator_(new c.generator.Engine_(b));c.setPrototypeOf&&c.setPrototypeOf(b,a.prototype);return b};
c.asyncExecutePromiseGenerator=function(a){function b(b){return a.next(b)}function e(b){return a.throw(b)}return new Promise(function(f,g){function d(a){a.done?f(a.value):Promise.resolve(a.value).then(b,e).then(d,g)}d(a.next())})};c.asyncExecutePromiseGeneratorFunction=function(a){return c.asyncExecutePromiseGenerator(a())};c.asyncExecutePromiseGeneratorProgram=function(a){return c.asyncExecutePromiseGenerator(new c.generator.Generator_(new c.generator.Engine_(a)))};
c.objectCreate=c.ASSUME_ES5||"function"==typeof Object.create?Object.create:function(a){function b(){}b.prototype=a;return new b};c.inherits=function(a,b){a.prototype=c.objectCreate(b.prototype);a.prototype.constructor=a;if(c.setPrototypeOf)(0,c.setPrototypeOf)(a,b);else for(var e in b)if("prototype"!=e)if(Object.defineProperties){var f=Object.getOwnPropertyDescriptor(b,e);f&&Object.defineProperty(a,e,f)}else a[e]=b[e];a.superClass_=b.prototype};
c.arrayFromIterator=function(a){for(var b,e=[];!(b=a.next()).done;)e.push(b.value);return e};c.arrayFromIterable=function(a){return a instanceof Array?a:c.arrayFromIterator(c.makeIterator(a))};c.polyfill("Object.is",function(a){return a?a:function(a,e){return a===e?0!==a||1/a===1/e:a!==a&&e!==e}},"es6","es3");
c.polyfill("Array.prototype.includes",function(a){return a?a:function(a,e){var b=this;b instanceof String&&(b=String(b));var g=b.length;e=e||0;for(0>e&&(e=Math.max(e+g,0));e<g;e++){var d=b[e];if(d===a||Object.is(d,a))return!0}return!1}},"es7","es3");
c.checkStringArgs=function(a,b,e){if(null==a)throw new TypeError("The 'this' value for String.prototype."+e+" must not be null or undefined");if(b instanceof RegExp)throw new TypeError("First argument to String.prototype."+e+" must not be a regular expression");return a+""};c.polyfill("String.prototype.includes",function(a){return a?a:function(a,e){return-1!==c.checkStringArgs(this,a,"includes").indexOf(a,e||0)}},"es6","es3");
c.polyfill("Array.from",function(a){return a?a:function(a,e,f){c.initSymbolIterator();e=null!=e?e:function(a){return a};var b=[],d=a[Symbol.iterator];if("function"==typeof d){a=d.call(a);for(var h=0;!(d=a.next()).done;)b.push(e.call(f,d.value,h++))}else for(d=a.length,h=0;h<d;h++)b.push(e.call(f,a[h],h));return b}},"es6","es3");c.checkEs6ConformanceViaProxy=function(){try{var a={},b=Object.create(new c.global.Proxy(a,{get:function(e,f,g){return e==a&&"q"==f&&g==b}}));return!0===b.q}catch(e){return!1}};
c.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS=!1;c.ES6_CONFORMANCE=c.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS&&c.checkEs6ConformanceViaProxy();c.owns=function(a,b){return Object.prototype.hasOwnProperty.call(a,b)};
c.polyfill("WeakMap",function(a){function b(a){this.id_=(h+=Math.random()+1).toString();if(a){c.initSymbol();c.initSymbolIterator();a=c.makeIterator(a);for(var b;!(b=a.next()).done;)b=b.value,this.set(b[0],b[1])}}function e(){if(!a||!Object.seal)return!1;try{var b=Object.seal({}),d=Object.seal({}),e=new a([[b,2],[d,3]]);if(2!=e.get(b)||3!=e.get(d))return!1;e.delete(b);e.set(d,4);return!e.has(b)&&4==e.get(d)}catch(J){return!1}}function f(a){c.owns(a,d)||c.defineProperty(a,d,{value:{}})}function g(a){var b=
Object[a];b&&(Object[a]=function(a){f(a);return b(a)})}if(c.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS){if(a&&c.ES6_CONFORMANCE)return a}else if(e())return a;var d="$jscomp_hidden_"+Math.random();g("freeze");g("preventExtensions");g("seal");var h=0;b.prototype.set=function(a,b){f(a);if(!c.owns(a,d))throw Error("WeakMap key fail: "+a);a[d][this.id_]=b;return this};b.prototype.get=function(a){return c.owns(a,d)?a[d][this.id_]:void 0};b.prototype.has=function(a){return c.owns(a,d)&&c.owns(a[d],this.id_)};
b.prototype.delete=function(a){return c.owns(a,d)&&c.owns(a[d],this.id_)?delete a[d][this.id_]:!1};return b},"es6","es3");c.MapEntry=function(){};
c.polyfill("Map",function(a){function b(){var a={};return a.previous=a.next=a.head=a}function e(a,b){var d=a.head_;return c.iteratorPrototype(function(){if(d){for(;d.head!=a.head_;)d=d.previous;for(;d.next!=d.head;)return d=d.next,{done:!1,value:b(d)};d=null}return{done:!0,value:void 0}})}function f(a,b){var d=b&&typeof b;"object"==d||"function"==d?h.has(b)?d=h.get(b):(d=""+ ++m,h.set(b,d)):d="p_"+b;var e=a.data_[d];if(e&&c.owns(a.data_,d))for(a=0;a<e.length;a++){var k=e[a];if(b!==b&&k.key!==k.key||
b===k.key)return{id:d,list:e,index:a,entry:k}}return{id:d,list:e,index:-1,entry:void 0}}function g(a){this.data_={};this.head_=b();this.size=0;if(a){a=c.makeIterator(a);for(var d;!(d=a.next()).done;)d=d.value,this.set(d[0],d[1])}}function d(){if(c.ASSUME_NO_NATIVE_MAP||!a||"function"!=typeof a||!a.prototype.entries||"function"!=typeof Object.seal)return!1;try{var b=Object.seal({x:4}),d=new a(c.makeIterator([[b,"s"]]));if("s"!=d.get(b)||1!=d.size||d.get({x:4})||d.set({x:4},"t")!=d||2!=d.size)return!1;
var e=d.entries(),f=e.next();if(f.done||f.value[0]!=b||"s"!=f.value[1])return!1;f=e.next();return f.done||4!=f.value[0].x||"t"!=f.value[1]||!e.next().done?!1:!0}catch(K){return!1}}if(c.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS){if(a&&c.ES6_CONFORMANCE)return a}else if(d())return a;c.initSymbol();c.initSymbolIterator();var h=new WeakMap;g.prototype.set=function(a,b){a=0===a?0:a;var d=f(this,a);d.list||(d.list=this.data_[d.id]=[]);d.entry?d.entry.value=b:(d.entry={next:this.head_,previous:this.head_.previous,
head:this.head_,key:a,value:b},d.list.push(d.entry),this.head_.previous.next=d.entry,this.head_.previous=d.entry,this.size++);return this};g.prototype.delete=function(a){a=f(this,a);return a.entry&&a.list?(a.list.splice(a.index,1),a.list.length||delete this.data_[a.id],a.entry.previous.next=a.entry.next,a.entry.next.previous=a.entry.previous,a.entry.head=null,this.size--,!0):!1};g.prototype.clear=function(){this.data_={};this.head_=this.head_.previous=b();this.size=0};g.prototype.has=function(a){return!!f(this,
a).entry};g.prototype.get=function(a){return(a=f(this,a).entry)&&a.value};g.prototype.entries=function(){return e(this,function(a){return[a.key,a.value]})};g.prototype.keys=function(){return e(this,function(a){return a.key})};g.prototype.values=function(){return e(this,function(a){return a.value})};g.prototype.forEach=function(a,b){for(var d=this.entries(),e;!(e=d.next()).done;)e=e.value,a.call(b,e[1],e[0],this)};g.prototype[Symbol.iterator]=g.prototype.entries;var m=0;return g},"es6","es3");
c.polyfill("Set",function(a){function b(a){this.map_=new Map;if(a){a=c.makeIterator(a);for(var b;!(b=a.next()).done;)this.add(b.value)}this.size=this.map_.size}function e(){if(c.ASSUME_NO_NATIVE_SET||!a||"function"!=typeof a||!a.prototype.entries||"function"!=typeof Object.seal)return!1;try{var b=Object.seal({x:4}),e=new a(c.makeIterator([b]));if(!e.has(b)||1!=e.size||e.add(b)!=e||1!=e.size||e.add({x:4})!=e||2!=e.size)return!1;var d=e.entries(),h=d.next();if(h.done||h.value[0]!=b||h.value[1]!=b)return!1;
h=d.next();return h.done||h.value[0]==b||4!=h.value[0].x||h.value[1]!=h.value[0]?!1:d.next().done}catch(m){return!1}}if(c.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS){if(a&&c.ES6_CONFORMANCE)return a}else if(e())return a;c.initSymbol();c.initSymbolIterator();b.prototype.add=function(a){a=0===a?0:a;this.map_.set(a,a);this.size=this.map_.size;return this};b.prototype.delete=function(a){a=this.map_.delete(a);this.size=this.map_.size;return a};b.prototype.clear=function(){this.map_.clear();this.size=0};b.prototype.has=
function(a){return this.map_.has(a)};b.prototype.entries=function(){return this.map_.entries()};b.prototype.values=function(){return this.map_.values()};b.prototype.keys=b.prototype.values;b.prototype[Symbol.iterator]=b.prototype.values;b.prototype.forEach=function(a,b){var d=this;this.map_.forEach(function(e){return a.call(b,e,e,d)})};return b},"es6","es3");
(function(a){function b(b){function e(a,b){d(b).css("top",26*a+"px")}"object"!==typeof b&&(b={message:b});var f=d(".topbar:last"),g=d("<div />",{"class":"topbar",text:b.message}).css(b.css||{});a.setTimeout(function(){g.remove();d(".topbar").each(e)},b.delay||5E3);f[0]?f.after(g):d("body").prepend(g);e(d(".topbar").length-1,g)}function e(a){ha.is(":checked")&&(d("a.delete").get().forEach(function(b){b=d(b);if(b.data(L)===a){b.closest(z).prev().addBack().remove();var e=+M.attr("max")-1;[N,M,ba].forEach(function(a){a=
d(a);a.attr("max",e).val(Math.min(+a.val(),e))})}}),g())}function f(a){var b=a.lastIndexOf("/");if(0>a.indexOf("\n")&&a.match(/^\/.*?\/[mi]*$/))try{return new RegExp(a.substring(1,b),a.substring(b+1))}catch(ja){}}function g(){var a=A.val();A.html("").append("<option/>").append(Array.from(new Set(l.getNowCommonsRows(function(){return!0}).get().map(function(a){return a.uploaders})._flatten())).sort().map(function(a){return d("<option/>").val(a).text(a)[0]}));A.val(a)}var d,h,m,k,p,J,Z,K,X,Y,y,ia,ca,
B,L,z,da,C,O,P,Q,q,R,w,r,D,E,S,l,F,n,t,v,T,G,H,I,ea,A,ha,U,x,ba,M,N,fa,V,W;return c.asyncExecutePromiseGeneratorProgram(function(u){switch(u.nextAddress){case 1:return d=a.$,h="#auto-delete",m="#auto-mark",k=h+"-remove-deleted",p=h+"-nc",J=h+"-ok",Z=h+"-test",K=m+"-ok",X=m+"-test",Y=m+"-text",y=m+"-text-omit",ia=".delete",ca=".mark-auto",B="ncAction",L="name",z=".nc-row",da="reason",C="selected",O="."+C,P=a.MDialog,Q=new a.XDomain,a.setIntervalImmediate(function(){d("#ready-count").html(Math.floor(d("input.file").length/
d("#files-count").val()*100));return!d.isReady}),u.yield(d.ready,2);case 2:return q=function(){},q.prototype.match=function(){},R=function(a){var b=q.call(this)||this;b._user=a;return b},c.inherits(R,q),R.prototype.match=function(a){return a.uploaders.includes(this._user)},w=function(a){var b=q.call(this)||this;b.match=a;return b},c.inherits(w,q),r=function(){var a=q.call(this)||this;a.__matchOne=a._matchOne.bind(a);return a},c.inherits(r,q),r.prototype.match=function(a){a=a.texts.some(this.__matchOne);
this._filter&&(a=this._filter(a));return a},r.prototype.setFilter=function(a){this._filter=a},D=function(a){var b=r.call(this)||this;b._regex=a;return b},c.inherits(D,r),D.prototype._matchOne=function(a){return a.match(this._regex)},E=function(a){var b=r.call(this)||this;b._needle=a;return b},c.inherits(E,r),E.prototype._matchOne=function(a){return-1<a.toUpperCase().indexOf(this._needle)},S=function(a){this._div=a;this.texts=d(".text",a).get().map(function(a){return d(a).text()});this.deleteLink=
d(ia,a)},S.prototype.toggleSelect=function(a){this._div.toggleClass(C,a)},c.global.Object.defineProperties(S.prototype,{deleteReason:{configurable:!0,enumerable:!0,get:function(){return this.deleteLink.data(da)}},localName:{configurable:!0,enumerable:!0,get:function(){return this.deleteLink.data(L)}},nowCommonsLink:{configurable:!0,enumerable:!0,get:function(){return d(".nowcommons",this._div)}},selected:{configurable:!0,enumerable:!0,get:function(){return this._div.is(O)}},hasWarnings:{configurable:!0,
enumerable:!0,get:function(){return d(".mark-problematic,.mark-keeplocal,.error-warning",this._div)[0]}},hasLinks:{configurable:!0,enumerable:!0,get:function(){return d(".linkback",this._div)[0]}},needsTransfer:{configurable:!0,enumerable:!0,get:function(){return d(".oldver",this._div)[0]}},hasTalk:{configurable:!0,enumerable:!0,get:function(){return d(".talk",this._div)[0]}},uploaders:{configurable:!0,enumerable:!0,get:function(){return d(".user",this._div).get().map(function(a){return d(a).text()})}}}),
l=function(){},l.prototype._run=function(){},l.prototype.run=function(){var a=this.test().get().slice(this.min(),this.max());this.confirm(a.length)&&this._run(a);this.postRun()},l.prototype.postRun=function(){},l.prototype.confirm=function(){return!0},l.prototype.min=function(){return 0},l.prototype.max=function(){return Number.MAX_VALUE},l.prototype.test=function(){},l.getNowCommonsRows=function(a){return d(z).map(function(){var b=new S(d(this).prev(z).addBack());if(a(b))return b})},F=function(a){var b=
l.call(this)||this;b._action=a;return b},c.inherits(F,l),F.prototype.run=function(){return this._action.run.call(this._action)},F.prototype.test=function(){return this._action.test.call(this._action)},n=function(a){return l.apply(this,arguments)||this},c.inherits(n,l),n.prototype.confirm=function(b){return a.confirm("Delete "+b+" files?")},n.prototype._run=function(a){this._markedRun(a)},n.prototype.test=function(){return l.getNowCommonsRows(function(a){return a.selected})},n.prototype.max=function(){return N.val()},
n.prototype.postRun=function(){V.close()},t=function(a){return l.apply(this,arguments)||this},c.inherits(t,l),t.prototype.min=function(){return+ba.val()},t.prototype.max=function(){return+M.val()},t.prototype._run=function(a){this.rows=a;a.forEach(function(a){a.toggleSelect(!0)})},t.prototype.test=function(){var a=d(Y).val().trim().replace(/\n/g,"").trim(),b=f(a),e=d(y).val().trim().replace(/\n/g,"").trim(),g=f(e),k=A.val().trim(),h=[];if(!a&&!k)throw"Please enter a value into the text box.";k&&h.push(new R(k));
a&&h.push(b?new D(b):new E(a.toUpperCase()));e&&(a=g?new D(g):new E(e.toUpperCase()),a.setFilter(function(a){return!a}),h.push(a));d("#include-warnings:checked")[0]||h.push(new w(function(a){return!a.hasWarnings}));d("#include-diff-name:checked")[0]||h.push(new w(function(a){return!a.hasLinks}));d("#include-multiple:checked")[0]||h.push(new w(function(a){return!a.needsTransfer}));d("#include-talk:checked")[0]||h.push(new w(function(a){return!a.hasTalk}));return l.getNowCommonsRows(function(a){return h.every(function(b){return b.match(a)})})},
t.prototype.postRun=function(){W.close()},v=function(a){return n.apply(this,arguments)||this},c.inherits(v,n),v.prototype._markedRun=function(b){var d=this._getAutoOpenLink.bind(this);b.forEach(function(b){a.open(d(b).attr("href"),"_blank");b.toggleSelect(!1);e(b.localName)})},T=function(a){return n.apply(this,arguments)||this},c.inherits(T,n),T.prototype._markedRun=function(a){var b={};a.forEach(function(a){a=d(a.deleteLink);b[a.data(L)]=a.data(da)});x.text(+x.text()+a.length);Q.postMessage(b)},
G=function(a){return v.apply(this,arguments)||this},c.inherits(G,v),G.prototype._getAutoOpenLink=function(a){return a.deleteLink},H=function(a){return v.apply(this,arguments)||this},c.inherits(H,v),H.prototype.confirm=function(b){return a.confirm("Delete "+b+" files?")},H.prototype._getAutoOpenLink=function(a){return a.nowCommonsLink},I=new F(new G),d(a).on("beforeunload",function(){var a=d(O).length/2;if(a)return"You have "+a+" selections outstanding"}),ea=d(".close-buttons"),A=d("#auto-user"),ha=
d(k),U=d(p),x=d(".ajax-count"),ba=d("#auto-mark-start"),M=d("#auto-mark-count"),N=d("#auto-delete-count"),g(),d("#doc-load-per,.ready-count,.bottom-buttons").toggle(),d(ca).click(function(){d(this).closest(z).toggleClass(C)}),d("#clear-marks").click(function(){d(O).removeClass(C)}),d(".delink,"+ca).click(function(a){a.preventDefault()}),d(Y+","+y).on("keydown paste drop focus",function(){var a=this;setTimeout(function(){var b=d(a);b.toggleClass("regex",!!f(b.val()))},1)}),U.change(function(){I._action=
U.is(":checked")?new H:new G}),d(K+","+X).data(B,new t),d(J+","+Z).data(B,I),d(J+","+K).click(function(){try{d(this).data(B).run()}catch(aa){a.alert(aa)}}),d(X+","+Z).click(function(){try{d("#count").html(d(this).data(B).test().length),fa.open()}catch(aa){a.alert(aa)}}),ea.click(function(){d(".bottom-buttons-buttons > *").animate({width:"toggle"},350);ea.toggleClass("glyphicon-menu-left")}),fa=new P("#auto-files-found"),fa.addCloseButton("#auto-delete-found-ok"),V=new P(h,{open:function(){var a=I.test().length;
N.val(a).attr("max",a)}}),V.addOpenButton("#auto-delete-open"),V.addCloseButton("#auto-delete-cancel"),W=new P(m),W.addOpenButton(m+"-open"),W.addCloseButton(m+"-cancel"),u.setCatchFinallyBlocks(3),u.yield(Q.ready(),5);case 5:x.text(0);b({css:{background:"#000099"},message:"Ajax delete detected"});I._action=new T;U.closest(".table-row").hide();Q.addListener(function(a){x.text(x.text()-1);"success"===a.status?(b({css:{background:"#009999"},delay:2E3,message:a.page+": deleted"}),e(a.page)):b(a.page+
": "+a.message)});u.leaveTryBlock(0);break;case 3:u.enterCatchBlock(),b({css:{background:"#990000"},message:"Ajax detection failed"}),u.jumpToEnd()}})})(window);}).call(this);
