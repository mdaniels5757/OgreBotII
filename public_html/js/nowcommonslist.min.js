(function(){var d=d||{};d.scope={};d.ASSUME_ES5=!1;d.ASSUME_NO_NATIVE_MAP=!1;d.ASSUME_NO_NATIVE_SET=!1;d.defineProperty=d.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(a,b,e){a!=Array.prototype&&a!=Object.prototype&&(a[b]=e.value)};d.getGlobal=function(a){return"undefined"!=typeof window&&window===a?a:"undefined"!=typeof global&&null!=global?global:a};d.global=d.getGlobal(this);d.SYMBOL_PREFIX="jscomp_symbol_";
d.initSymbol=function(){d.initSymbol=function(){};d.global.Symbol||(d.global.Symbol=d.Symbol)};d.Symbol=function(){var a=0;return function(b){return d.SYMBOL_PREFIX+(b||"")+a++}}();d.initSymbolIterator=function(){d.initSymbol();var a=d.global.Symbol.iterator;a||(a=d.global.Symbol.iterator=d.global.Symbol("iterator"));"function"!=typeof Array.prototype[a]&&d.defineProperty(Array.prototype,a,{configurable:!0,writable:!0,value:function(){return d.arrayIterator(this)}});d.initSymbolIterator=function(){}};
d.initSymbolAsyncIterator=function(){d.initSymbol();var a=d.global.Symbol.asyncIterator;a||(a=d.global.Symbol.asyncIterator=d.global.Symbol("asyncIterator"));d.initSymbolAsyncIterator=function(){}};d.arrayIterator=function(a){var b=0;return d.iteratorPrototype(function(){return b<a.length?{done:!1,value:a[b++]}:{done:!0}})};d.iteratorPrototype=function(a){d.initSymbolIterator();a={next:a};a[d.global.Symbol.iterator]=function(){return this};return a};
d.makeIterator=function(a){d.initSymbolIterator();d.initSymbol();d.initSymbolIterator();var b=a[Symbol.iterator];return b?b.call(a):d.arrayIterator(a)};d.polyfill=function(a,b){if(b){var e=d.global;a=a.split(".");for(var f=0;f<a.length-1;f++){var c=a[f];c in e||(e[c]={});e=e[c]}a=a[a.length-1];f=e[a];b=b(f);b!=f&&null!=b&&d.defineProperty(e,a,{configurable:!0,writable:!0,value:b})}};d.FORCE_POLYFILL_PROMISE=!1;
d.polyfill("Promise",function(a){function b(a){this.state_=0;this.result_=void 0;this.onSettledCallbacks_=[];var b=this.createResolveAndReject_();try{a(b.resolve,b.reject)}catch(k){b.reject(k)}}function e(){this.batch_=null}function f(a){return a instanceof b?a:new b(function(b){b(a)})}if(a&&!d.FORCE_POLYFILL_PROMISE)return a;e.prototype.asyncExecute=function(a){null==this.batch_&&(this.batch_=[],this.asyncExecuteBatch_());this.batch_.push(a);return this};e.prototype.asyncExecuteBatch_=function(){var a=
this;this.asyncExecuteFunction(function(){a.executeBatch_()})};var c=d.global.setTimeout;e.prototype.asyncExecuteFunction=function(a){c(a,0)};e.prototype.executeBatch_=function(){for(;this.batch_&&this.batch_.length;){var a=this.batch_;this.batch_=[];for(var b=0;b<a.length;++b){var c=a[b];a[b]=null;try{c()}catch(m){this.asyncThrow_(m)}}}this.batch_=null};e.prototype.asyncThrow_=function(a){this.asyncExecuteFunction(function(){throw a;})};b.prototype.createResolveAndReject_=function(){function a(a){return function(k){c||
(c=!0,a.call(b,k))}}var b=this,c=!1;return{resolve:a(this.resolveTo_),reject:a(this.reject_)}};b.prototype.resolveTo_=function(a){if(a===this)this.reject_(new TypeError("A Promise cannot resolve to itself"));else if(a instanceof b)this.settleSameAsPromise_(a);else{a:switch(typeof a){case "object":var c=null!=a;break a;case "function":c=!0;break a;default:c=!1}c?this.resolveToNonPromiseObj_(a):this.fulfill_(a)}};b.prototype.resolveToNonPromiseObj_=function(a){var b=void 0;try{b=a.then}catch(k){this.reject_(k);
return}"function"==typeof b?this.settleSameAsThenable_(b,a):this.fulfill_(a)};b.prototype.reject_=function(a){this.settle_(2,a)};b.prototype.fulfill_=function(a){this.settle_(1,a)};b.prototype.settle_=function(a,b){if(0!=this.state_)throw Error("Cannot settle("+a+", "+b+"): Promise already settled in state"+this.state_);this.state_=a;this.result_=b;this.executeOnSettledCallbacks_()};b.prototype.executeOnSettledCallbacks_=function(){if(null!=this.onSettledCallbacks_){for(var a=0;a<this.onSettledCallbacks_.length;++a)g.asyncExecute(this.onSettledCallbacks_[a]);
this.onSettledCallbacks_=null}};var g=new e;b.prototype.settleSameAsPromise_=function(a){var b=this.createResolveAndReject_();a.callWhenSettled_(b.resolve,b.reject)};b.prototype.settleSameAsThenable_=function(a,b){var c=this.createResolveAndReject_();try{a.call(b,c.resolve,c.reject)}catch(m){c.reject(m)}};b.prototype.then=function(a,c){function k(a,b){return"function"==typeof a?function(b){try{e(a(b))}catch(K){f(K)}}:b}var e,f,h=new b(function(a,b){e=a;f=b});this.callWhenSettled_(k(a,e),k(c,f));return h};
b.prototype.catch=function(a){return this.then(void 0,a)};b.prototype.callWhenSettled_=function(a,b){function c(){switch(e.state_){case 1:a(e.result_);break;case 2:b(e.result_);break;default:throw Error("Unexpected state: "+e.state_);}}var e=this;null==this.onSettledCallbacks_?g.asyncExecute(c):this.onSettledCallbacks_.push(c)};b.resolve=f;b.reject=function(a){return new b(function(b,c){c(a)})};b.race=function(a){return new b(function(b,c){for(var k=d.makeIterator(a),e=k.next();!e.done;e=k.next())f(e.value).callWhenSettled_(b,
c)})};b.all=function(a){var c=d.makeIterator(a),k=c.next();return k.done?f([]):new b(function(a,b){function e(b){return function(c){m[b]=c;g--;0==g&&a(m)}}var m=[],g=0;do m.push(void 0),g++,f(k.value).callWhenSettled_(e(m.length-1),b),k=c.next();while(!k.done)})};return b},"es6","es3");d.underscoreProtoCanBeSet=function(){var a={a:!0},b={};try{return b.__proto__=a,b.a}catch(e){}return!1};
d.setPrototypeOf="function"==typeof Object.setPrototypeOf?Object.setPrototypeOf:d.underscoreProtoCanBeSet()?function(a,b){a.__proto__=b;if(a.__proto__!==b)throw new TypeError(a+" is not extensible");return a}:null;d.generator={};d.generator.ensureIteratorResultIsObject_=function(a){if(!(a instanceof Object))throw new TypeError("Iterator result "+a+" is not an object");};
d.generator.Context=function(){this.isRunning_=!1;this.yieldAllIterator_=null;this.yieldResult=void 0;this.nextAddress=1;this.finallyAddress_=this.catchAddress_=0;this.finallyContexts_=this.abruptCompletion_=null};d.generator.Context.prototype.start_=function(){if(this.isRunning_)throw new TypeError("Generator is already running");this.isRunning_=!0};d.generator.Context.prototype.stop_=function(){this.isRunning_=!1};
d.generator.Context.prototype.jumpToErrorHandler_=function(){this.nextAddress=this.catchAddress_||this.finallyAddress_};d.generator.Context.prototype.next_=function(a){this.yieldResult=a};d.generator.Context.prototype.throw_=function(a){this.abruptCompletion_={exception:a,isException:!0};this.jumpToErrorHandler_()};d.generator.Context.prototype.return=function(a){this.abruptCompletion_={return:a};this.nextAddress=this.finallyAddress_};
d.generator.Context.prototype.jumpThroughFinallyBlocks=function(a){this.abruptCompletion_={jumpTo:a};this.nextAddress=this.finallyAddress_};d.generator.Context.prototype.yield=function(a,b){this.nextAddress=b;return{value:a}};d.generator.Context.prototype.yieldAll=function(a,b){a=d.makeIterator(a);var e=a.next();d.generator.ensureIteratorResultIsObject_(e);if(e.done)this.yieldResult=e.value,this.nextAddress=b;else return this.yieldAllIterator_=a,this.yield(e.value,b)};
d.generator.Context.prototype.jumpTo=function(a){this.nextAddress=a};d.generator.Context.prototype.jumpToEnd=function(){this.nextAddress=0};d.generator.Context.prototype.setCatchFinallyBlocks=function(a,b){this.catchAddress_=a;void 0!=b&&(this.finallyAddress_=b)};d.generator.Context.prototype.setFinallyBlock=function(a){this.catchAddress_=0;this.finallyAddress_=a||0};d.generator.Context.prototype.leaveTryBlock=function(a,b){this.nextAddress=a;this.catchAddress_=b||0};
d.generator.Context.prototype.enterCatchBlock=function(a){this.catchAddress_=a||0;a=this.abruptCompletion_.exception;this.abruptCompletion_=null;return a};d.generator.Context.prototype.enterFinallyBlock=function(a,b,e){e?this.finallyContexts_[e]=this.abruptCompletion_:this.finallyContexts_=[this.abruptCompletion_];this.catchAddress_=a||0;this.finallyAddress_=b||0};
d.generator.Context.prototype.leaveFinallyBlock=function(a,b){b=this.finallyContexts_.splice(b||0)[0];if(b=this.abruptCompletion_=this.abruptCompletion_||b){if(b.isException)return this.jumpToErrorHandler_();void 0!=b.jumpTo&&this.finallyAddress_<b.jumpTo?(this.nextAddress=b.jumpTo,this.abruptCompletion_=null):this.nextAddress=this.finallyAddress_}else this.nextAddress=a};d.generator.Context.prototype.forIn=function(a){return new d.generator.Context.PropertyIterator(a)};
d.generator.Context.PropertyIterator=function(a){this.object_=a;this.properties_=[];for(var b in a)this.properties_.push(b);this.properties_.reverse()};d.generator.Context.PropertyIterator.prototype.getNext=function(){for(;0<this.properties_.length;){var a=this.properties_.pop();if(a in this.object_)return a}return null};d.generator.Engine_=function(a){this.context_=new d.generator.Context;this.program_=a};
d.generator.Engine_.prototype.next_=function(a){this.context_.start_();if(this.context_.yieldAllIterator_)return this.yieldAllStep_(this.context_.yieldAllIterator_.next,a,this.context_.next_);this.context_.next_(a);return this.nextStep_()};d.generator.Engine_.prototype.return_=function(a){this.context_.start_();var b=this.context_.yieldAllIterator_;if(b)return this.yieldAllStep_("return"in b?b["return"]:function(a){return{value:a,done:!0}},a,this.context_.return);this.context_.return(a);return this.nextStep_()};
d.generator.Engine_.prototype.throw_=function(a){this.context_.start_();if(this.context_.yieldAllIterator_)return this.yieldAllStep_(this.context_.yieldAllIterator_["throw"],a,this.context_.next_);this.context_.throw_(a);return this.nextStep_()};
d.generator.Engine_.prototype.yieldAllStep_=function(a,b,e){try{var f=a.call(this.context_.yieldAllIterator_,b);d.generator.ensureIteratorResultIsObject_(f);if(!f.done)return this.context_.stop_(),f;var c=f.value}catch(g){return this.context_.yieldAllIterator_=null,this.context_.throw_(g),this.nextStep_()}this.context_.yieldAllIterator_=null;e.call(this.context_,c);return this.nextStep_()};
d.generator.Engine_.prototype.nextStep_=function(){for(;this.context_.nextAddress;)try{var a=this.program_(this.context_);if(a)return this.context_.stop_(),{value:a.value,done:!1}}catch(b){this.context_.yieldResult=void 0,this.context_.throw_(b)}this.context_.stop_();if(this.context_.abruptCompletion_){a=this.context_.abruptCompletion_;this.context_.abruptCompletion_=null;if(a.isException)throw a.exception;return{value:a.return,done:!0}}return{value:void 0,done:!0}};
d.generator.Generator_=function(a){this.next=function(b){return a.next_(b)};this.throw=function(b){return a.throw_(b)};this.return=function(b){return a.return_(b)};d.initSymbolIterator();d.initSymbol();d.initSymbolIterator();this[Symbol.iterator]=function(){return this}};d.generator.createGenerator=function(a,b){b=new d.generator.Generator_(new d.generator.Engine_(b));d.setPrototypeOf&&d.setPrototypeOf(b,a.prototype);return b};
d.asyncExecutePromiseGenerator=function(a){function b(b){return a.next(b)}function e(b){return a.throw(b)}return new Promise(function(f,c){function g(a){a.done?f(a.value):Promise.resolve(a.value).then(b,e).then(g,c)}g(a.next())})};d.asyncExecutePromiseGeneratorFunction=function(a){return d.asyncExecutePromiseGenerator(a())};d.asyncExecutePromiseGeneratorProgram=function(a){return d.asyncExecutePromiseGenerator(new d.generator.Generator_(new d.generator.Engine_(a)))};
d.objectCreate=d.ASSUME_ES5||"function"==typeof Object.create?Object.create:function(a){function b(){}b.prototype=a;return new b};d.inherits=function(a,b){a.prototype=d.objectCreate(b.prototype);a.prototype.constructor=a;if(d.setPrototypeOf)(0,d.setPrototypeOf)(a,b);else for(var e in b)if("prototype"!=e)if(Object.defineProperties){var f=Object.getOwnPropertyDescriptor(b,e);f&&Object.defineProperty(a,e,f)}else a[e]=b[e];a.superClass_=b.prototype};
d.arrayFromIterator=function(a){for(var b,e=[];!(b=a.next()).done;)e.push(b.value);return e};d.arrayFromIterable=function(a){return a instanceof Array?a:d.arrayFromIterator(d.makeIterator(a))};d.polyfill("Object.is",function(a){return a?a:function(a,e){return a===e?0!==a||1/a===1/e:a!==a&&e!==e}},"es6","es3");
d.polyfill("Array.prototype.includes",function(a){return a?a:function(a,e){var b=this;b instanceof String&&(b=String(b));var c=b.length;e=e||0;for(0>e&&(e=Math.max(e+c,0));e<c;e++){var g=b[e];if(g===a||Object.is(g,a))return!0}return!1}},"es7","es3");
d.checkStringArgs=function(a,b,e){if(null==a)throw new TypeError("The 'this' value for String.prototype."+e+" must not be null or undefined");if(b instanceof RegExp)throw new TypeError("First argument to String.prototype."+e+" must not be a regular expression");return a+""};d.polyfill("String.prototype.includes",function(a){return a?a:function(a,e){return-1!==d.checkStringArgs(this,a,"includes").indexOf(a,e||0)}},"es6","es3");
d.polyfill("Array.from",function(a){return a?a:function(a,e,f){d.initSymbolIterator();e=null!=e?e:function(a){return a};var b=[],g=a[Symbol.iterator];if("function"==typeof g){a=g.call(a);for(var h=0;!(g=a.next()).done;)b.push(e.call(f,g.value,h++))}else for(g=a.length,h=0;h<g;h++)b.push(e.call(f,a[h],h));return b}},"es6","es3");d.checkEs6ConformanceViaProxy=function(){try{var a={},b=Object.create(new d.global.Proxy(a,{get:function(e,f,c){return e==a&&"q"==f&&c==b}}));return!0===b.q}catch(e){return!1}};
d.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS=!1;d.ES6_CONFORMANCE=d.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS&&d.checkEs6ConformanceViaProxy();d.owns=function(a,b){return Object.prototype.hasOwnProperty.call(a,b)};
d.polyfill("WeakMap",function(a){function b(a){this.id_=(h+=Math.random()+1).toString();if(a){d.initSymbol();d.initSymbolIterator();a=d.makeIterator(a);for(var b;!(b=a.next()).done;)b=b.value,this.set(b[0],b[1])}}function e(){if(!a||!Object.seal)return!1;try{var b=Object.seal({}),c=Object.seal({}),e=new a([[b,2],[c,3]]);if(2!=e.get(b)||3!=e.get(c))return!1;e.delete(b);e.set(c,4);return!e.has(b)&&4==e.get(c)}catch(I){return!1}}function f(a){d.owns(a,g)||d.defineProperty(a,g,{value:{}})}function c(a){var b=
Object[a];b&&(Object[a]=function(a){f(a);return b(a)})}if(d.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS){if(a&&d.ES6_CONFORMANCE)return a}else if(e())return a;var g="$jscomp_hidden_"+Math.random();c("freeze");c("preventExtensions");c("seal");var h=0;b.prototype.set=function(a,b){f(a);if(!d.owns(a,g))throw Error("WeakMap key fail: "+a);a[g][this.id_]=b;return this};b.prototype.get=function(a){return d.owns(a,g)?a[g][this.id_]:void 0};b.prototype.has=function(a){return d.owns(a,g)&&d.owns(a[g],this.id_)};
b.prototype.delete=function(a){return d.owns(a,g)&&d.owns(a[g],this.id_)?delete a[g][this.id_]:!1};return b},"es6","es3");d.MapEntry=function(){};
d.polyfill("Map",function(a){function b(){var a={};return a.previous=a.next=a.head=a}function e(a,b){var c=a.head_;return d.iteratorPrototype(function(){if(c){for(;c.head!=a.head_;)c=c.previous;for(;c.next!=c.head;)return c=c.next,{done:!1,value:b(c)};c=null}return{done:!0,value:void 0}})}function f(a,b){var c=b&&typeof b;"object"==c||"function"==c?h.has(b)?c=h.get(b):(c=""+ ++x,h.set(b,c)):c="p_"+b;var e=a.data_[c];if(e&&d.owns(a.data_,c))for(a=0;a<e.length;a++){var f=e[a];if(b!==b&&f.key!==f.key||
b===f.key)return{id:c,list:e,index:a,entry:f}}return{id:c,list:e,index:-1,entry:void 0}}function c(a){this.data_={};this.head_=b();this.size=0;if(a){a=d.makeIterator(a);for(var c;!(c=a.next()).done;)c=c.value,this.set(c[0],c[1])}}function g(){if(d.ASSUME_NO_NATIVE_MAP||!a||"function"!=typeof a||!a.prototype.entries||"function"!=typeof Object.seal)return!1;try{var b=Object.seal({x:4}),c=new a(d.makeIterator([[b,"s"]]));if("s"!=c.get(b)||1!=c.size||c.get({x:4})||c.set({x:4},"t")!=c||2!=c.size)return!1;
var e=c.entries(),f=e.next();if(f.done||f.value[0]!=b||"s"!=f.value[1])return!1;f=e.next();return f.done||4!=f.value[0].x||"t"!=f.value[1]||!e.next().done?!1:!0}catch(J){return!1}}if(d.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS){if(a&&d.ES6_CONFORMANCE)return a}else if(g())return a;d.initSymbol();d.initSymbolIterator();var h=new WeakMap;c.prototype.set=function(a,b){a=0===a?0:a;var c=f(this,a);c.list||(c.list=this.data_[c.id]=[]);c.entry?c.entry.value=b:(c.entry={next:this.head_,previous:this.head_.previous,
head:this.head_,key:a,value:b},c.list.push(c.entry),this.head_.previous.next=c.entry,this.head_.previous=c.entry,this.size++);return this};c.prototype.delete=function(a){a=f(this,a);return a.entry&&a.list?(a.list.splice(a.index,1),a.list.length||delete this.data_[a.id],a.entry.previous.next=a.entry.next,a.entry.next.previous=a.entry.previous,a.entry.head=null,this.size--,!0):!1};c.prototype.clear=function(){this.data_={};this.head_=this.head_.previous=b();this.size=0};c.prototype.has=function(a){return!!f(this,
a).entry};c.prototype.get=function(a){return(a=f(this,a).entry)&&a.value};c.prototype.entries=function(){return e(this,function(a){return[a.key,a.value]})};c.prototype.keys=function(){return e(this,function(a){return a.key})};c.prototype.values=function(){return e(this,function(a){return a.value})};c.prototype.forEach=function(a,b){for(var c=this.entries(),e;!(e=c.next()).done;)e=e.value,a.call(b,e[1],e[0],this)};c.prototype[Symbol.iterator]=c.prototype.entries;var x=0;return c},"es6","es3");
d.polyfill("Set",function(a){function b(a){this.map_=new Map;if(a){a=d.makeIterator(a);for(var b;!(b=a.next()).done;)this.add(b.value)}this.size=this.map_.size}function e(){if(d.ASSUME_NO_NATIVE_SET||!a||"function"!=typeof a||!a.prototype.entries||"function"!=typeof Object.seal)return!1;try{var b=Object.seal({x:4}),c=new a(d.makeIterator([b]));if(!c.has(b)||1!=c.size||c.add(b)!=c||1!=c.size||c.add({x:4})!=c||2!=c.size)return!1;var e=c.entries(),h=e.next();if(h.done||h.value[0]!=b||h.value[1]!=b)return!1;
h=e.next();return h.done||h.value[0]==b||4!=h.value[0].x||h.value[1]!=h.value[0]?!1:e.next().done}catch(x){return!1}}if(d.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS){if(a&&d.ES6_CONFORMANCE)return a}else if(e())return a;d.initSymbol();d.initSymbolIterator();b.prototype.add=function(a){a=0===a?0:a;this.map_.set(a,a);this.size=this.map_.size;return this};b.prototype.delete=function(a){a=this.map_.delete(a);this.size=this.map_.size;return a};b.prototype.clear=function(){this.map_.clear();this.size=0};b.prototype.has=
function(a){return this.map_.has(a)};b.prototype.entries=function(){return this.map_.entries()};b.prototype.values=function(){return this.map_.values()};b.prototype.keys=b.prototype.values;b.prototype[Symbol.iterator]=b.prototype.values;b.prototype.forEach=function(a,b){var c=this;this.map_.forEach(function(e){return a.call(b,e,e,c)})};return b},"es6","es3");
(function(a){function b(a){ha.is(":checked")&&(c("a.delete").get().forEach(function(b){b=c(b);if(b.data(L)===a){b.closest(y).prev().addBack().remove();var e=+M.attr("max")-1;[N,M,ba].forEach(function(a){a=c(a);a.attr("max",e).val(Math.min(+a.val(),e))})}}),f())}function e(a){var b=a.lastIndexOf("/");if(0>a.indexOf("\n")&&a.match(/^\/.*?\/[mi]*$/))try{return new RegExp(a.substring(1,b),a.substring(b+1))}catch(ia){}}function f(){var a=z.val();z.html("").append("<option/>").append(Array.from(new Set(l.getNowCommonsRows(function(){return!0}).get().map(function(a){return a.uploaders})._flatten())).sort().map(function(a){return c("<option/>").val(a).text(a)[0]}));
z.val(a)}var c,g,h,x,k,m,I,Z,J,X,Y,K,ca,A,L,y,da,B,O,P,Q,p,R,v,q,C,D,S,l,E,n,r,u,T,F,G,H,ea,z,ha,U,w,ba,M,N,fa,V,W;return d.asyncExecutePromiseGeneratorProgram(function(t){switch(t.nextAddress){case 1:return c=a.$,g="#auto-delete",h="#auto-mark",x=g+"-remove-deleted",k=g+"-nc",m=g+"-ok",I=g+"-test",Z=h+"-ok",J=h+"-test",X=h+"-text",Y=h+"-text-omit",K=".delete",ca=".mark-auto",A="ncAction",L="name",y=".nc-row",da="reason",B="selected",O="."+B,P=a.MDialog,Q=new a.XDomain,a.setIntervalImmediate(function(){c("#ready-count").html(Math.floor(c("input.file").length/
c("#files-count").val()*100));return!c.isReady}),t.yield(c.ready,2);case 2:return p=function(){},p.prototype.match=function(){},R=function(a){var b=p.call(this)||this;b._user=a;return b},d.inherits(R,p),R.prototype.match=function(a){return a.uploaders.includes(this._user)},v=function(a){var b=p.call(this)||this;b.match=a;return b},d.inherits(v,p),q=function(){var a=p.call(this)||this;a.__matchOne=a._matchOne.bind(a);return a},d.inherits(q,p),q.prototype.match=function(a){a=a.texts.some(this.__matchOne);
this._filter&&(a=this._filter(a));return a},q.prototype.setFilter=function(a){this._filter=a},C=function(a){var b=q.call(this)||this;b._regex=a;return b},d.inherits(C,q),C.prototype._matchOne=function(a){return a.match(this._regex)},D=function(a){var b=q.call(this)||this;b._needle=a;return b},d.inherits(D,q),D.prototype._matchOne=function(a){return-1<a.toUpperCase().indexOf(this._needle)},S=function(a){this._div=a;this.texts=c(".text",a).get().map(function(a){return c(a).text()});this.deleteLink=
c(K,a)},S.prototype.toggleSelect=function(a){this._div.toggleClass(B,a)},d.global.Object.defineProperties(S.prototype,{deleteReason:{configurable:!0,enumerable:!0,get:function(){return this.deleteLink.data(da)}},localName:{configurable:!0,enumerable:!0,get:function(){return this.deleteLink.data(L)}},nowCommonsLink:{configurable:!0,enumerable:!0,get:function(){return c(".nowcommons",this._div)}},selected:{configurable:!0,enumerable:!0,get:function(){return this._div.is(O)}},hasWarnings:{configurable:!0,
enumerable:!0,get:function(){return c(".mark-problematic,.mark-keeplocal,.error-warning",this._div)[0]}},hasLinks:{configurable:!0,enumerable:!0,get:function(){return c(".linkback",this._div)[0]}},needsTransfer:{configurable:!0,enumerable:!0,get:function(){return c(".oldver",this._div)[0]}},hasTalk:{configurable:!0,enumerable:!0,get:function(){return c(".talk",this._div)[0]}},uploaders:{configurable:!0,enumerable:!0,get:function(){return c(".user",this._div).get().map(function(a){return c(a).text()})}}}),
l=function(){},l.prototype._run=function(){},l.prototype.run=function(){var a=this.test().get().slice(this.min(),this.max());this.confirm(a.length)&&this._run(a);this.postRun()},l.prototype.postRun=function(){},l.prototype.confirm=function(){return!0},l.prototype.min=function(){return 0},l.prototype.max=function(){return Number.MAX_VALUE},l.prototype.test=function(){},l.getNowCommonsRows=function(a){return c(y).map(function(){var b=new S(c(this).prev(y).addBack());if(a(b))return b})},E=function(a){var b=
l.call(this)||this;b._action=a;return b},d.inherits(E,l),E.prototype.run=function(){return this._action.run.call(this._action)},E.prototype.test=function(){return this._action.test.call(this._action)},n=function(a){return l.apply(this,arguments)||this},d.inherits(n,l),n.prototype.confirm=function(b){return a.confirm("Delete "+b+" files?")},n.prototype._run=function(a){this._markedRun(a)},n.prototype.test=function(){return l.getNowCommonsRows(function(a){return a.selected})},n.prototype.max=function(){return N.val()},
n.prototype.postRun=function(){V.close()},r=function(a){return l.apply(this,arguments)||this},d.inherits(r,l),r.prototype.min=function(){return+ba.val()},r.prototype.max=function(){return+M.val()},r.prototype._run=function(a){this.rows=a;a.forEach(function(a){a.toggleSelect(!0)})},r.prototype.test=function(){var a=c(X).val().trim().replace(/\n/g,"").trim(),b=e(a),f=c(Y).val().trim().replace(/\n/g,"").trim(),g=e(f),h=z.val().trim(),k=[];if(!a&&!h)throw"Please enter a value into the text box.";h&&k.push(new R(h));
a&&k.push(b?new C(b):new D(a.toUpperCase()));f&&(a=g?new C(g):new D(f.toUpperCase()),a.setFilter(function(a){return!a}),k.push(a));c("#include-warnings:checked")[0]||k.push(new v(function(a){return!a.hasWarnings}));c("#include-diff-name:checked")[0]||k.push(new v(function(a){return!a.hasLinks}));c("#include-multiple:checked")[0]||k.push(new v(function(a){return!a.needsTransfer}));c("#include-talk:checked")[0]||k.push(new v(function(a){return!a.hasTalk}));return l.getNowCommonsRows(function(a){return k.every(function(b){return b.match(a)})})},
r.prototype.postRun=function(){W.close()},u=function(a){return n.apply(this,arguments)||this},d.inherits(u,n),u.prototype._markedRun=function(c){var e=this._getAutoOpenLink.bind(this);c.forEach(function(c){a.open(e(c).attr("href"),"_blank");c.toggleSelect(!1);b(c.localName)})},T=function(a){return n.apply(this,arguments)||this},d.inherits(T,n),T.prototype._markedRun=function(a){var b={};a.forEach(function(a){a=c(a.deleteLink);b[a.data(L)]=a.data(da)});w.text(+w.text()+a.length);Q.postMessage(b)},
F=function(a){return u.apply(this,arguments)||this},d.inherits(F,u),F.prototype._getAutoOpenLink=function(a){return a.deleteLink},G=function(a){return u.apply(this,arguments)||this},d.inherits(G,u),G.prototype.confirm=function(b){return a.confirm("Delete "+b+" files?")},G.prototype._getAutoOpenLink=function(a){return a.nowCommonsLink},H=new E(new F),c(a).on("beforeunload",function(){var a=c(O).length/2;if(a)return"You have "+a+" selections outstanding"}),ea=c(".close-buttons"),z=c("#auto-user"),ha=
c(x),U=c(k),w=c(".ajax-count"),ba=c("#auto-mark-start"),M=c("#auto-mark-count"),N=c("#auto-delete-count"),f(),c("#doc-load-per,.ready-count,.bottom-buttons").toggle(),c(ca).click(function(){c(this).closest(y).toggleClass(B)}),c("#clear-marks").click(function(){c(O).removeClass(B)}),c(".delink,"+ca).click(function(a){a.preventDefault()}),c(X+","+Y).on("keydown paste drop focus",function(){var a=this;setTimeout(function(){var b=c(a);b.toggleClass("regex",!!e(b.val()))},1)}),U.change(function(){H._action=
U.is(":checked")?new G:new F}),c(Z+","+J).data(A,new r),c(m+","+I).data(A,H),c(m+","+Z).click(function(){try{c(this).data(A).run()}catch(aa){a.alert(aa)}}),c(J+","+I).click(function(){try{c("#count").html(c(this).data(A).test().length),fa.open()}catch(aa){a.alert(aa)}}),ea.click(function(){c(".bottom-buttons-buttons > *").animate({width:"toggle"},350);ea.toggleClass("glyphicon-menu-left")}),fa=new P("#auto-files-found"),fa.addCloseButton("#auto-delete-found-ok"),V=new P(g,{open:function(){var a=H.test().length;
N.val(a).attr("max",a)}}),V.addOpenButton("#auto-delete-open"),V.addCloseButton("#auto-delete-cancel"),W=new P(h),W.addOpenButton(h+"-open"),W.addCloseButton(h+"-cancel"),t.setCatchFinallyBlocks(3),t.yield(Q.ready(),5);case 5:w.text(0);a.topBar({css:{background:"#000099"},message:"Ajax delete detected"});H._action=new T;U.closest(".table-row").hide();Q.addListener(function(c){w.text(w.text()-1);"success"===c.status?(a.topBar({css:{background:"#009999"},delay:2E3,message:c.page+": deleted"}),b(c.page)):
a.topBar(c.page+": "+c.message)});t.leaveTryBlock(0);break;case 3:t.enterCatchBlock(),a.topBar({css:{background:"#990000"},message:"Ajax detection failed"}),t.jumpToEnd()}})})(window);}).call(this);
