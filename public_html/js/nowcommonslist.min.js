var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(a,b,d){a!=Array.prototype&&a!=Object.prototype&&(a[b]=d.value)};$jscomp.getGlobal=function(a){return"undefined"!=typeof window&&window===a?a:"undefined"!=typeof global&&null!=global?global:a};$jscomp.global=$jscomp.getGlobal(this);$jscomp.SYMBOL_PREFIX="jscomp_symbol_";
$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){};$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)};$jscomp.Symbol=function(){var a=0;return function(b){return $jscomp.SYMBOL_PREFIX+(b||"")+a++}}();
$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var a=$jscomp.global.Symbol.iterator;a||(a=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol("iterator"));"function"!=typeof Array.prototype[a]&&$jscomp.defineProperty(Array.prototype,a,{configurable:!0,writable:!0,value:function(){return $jscomp.arrayIterator(this)}});$jscomp.initSymbolIterator=function(){}};$jscomp.arrayIterator=function(a){var b=0;return $jscomp.iteratorPrototype(function(){return b<a.length?{done:!1,value:a[b++]}:{done:!0}})};
$jscomp.iteratorPrototype=function(a){$jscomp.initSymbolIterator();a={next:a};a[$jscomp.global.Symbol.iterator]=function(){return this};return a};$jscomp.makeIterator=function(a){$jscomp.initSymbolIterator();$jscomp.initSymbol();$jscomp.initSymbolIterator();var b=a[Symbol.iterator];return b?b.call(a):$jscomp.arrayIterator(a)};
$jscomp.polyfill=function(a,b,d,e){if(b){d=$jscomp.global;a=a.split(".");for(e=0;e<a.length-1;e++){var f=a[e];f in d||(d[f]={});d=d[f]}a=a[a.length-1];e=d[a];b=b(e);b!=e&&null!=b&&$jscomp.defineProperty(d,a,{configurable:!0,writable:!0,value:b})}};$jscomp.FORCE_POLYFILL_PROMISE=!1;
$jscomp.polyfill("Promise",function(a){function b(){this.batch_=null}function d(a){return a instanceof f?a:new f(function(c,b){c(a)})}if(a&&!$jscomp.FORCE_POLYFILL_PROMISE)return a;b.prototype.asyncExecute=function(a){null==this.batch_&&(this.batch_=[],this.asyncExecuteBatch_());this.batch_.push(a);return this};b.prototype.asyncExecuteBatch_=function(){var a=this;this.asyncExecuteFunction(function(){a.executeBatch_()})};var e=$jscomp.global.setTimeout;b.prototype.asyncExecuteFunction=function(a){e(a,
0)};b.prototype.executeBatch_=function(){for(;this.batch_&&this.batch_.length;){var a=this.batch_;this.batch_=[];for(var b=0;b<a.length;++b){var h=a[b];delete a[b];try{h()}catch(n){this.asyncThrow_(n)}}}this.batch_=null};b.prototype.asyncThrow_=function(a){this.asyncExecuteFunction(function(){throw a;})};var f=function(a){this.state_=0;this.result_=void 0;this.onSettledCallbacks_=[];var c=this.createResolveAndReject_();try{a(c.resolve,c.reject)}catch(h){c.reject(h)}};f.prototype.createResolveAndReject_=
function(){function a(a){return function(c){h||(h=!0,a.call(b,c))}}var b=this,h=!1;return{resolve:a(this.resolveTo_),reject:a(this.reject_)}};f.prototype.resolveTo_=function(a){if(a===this)this.reject_(new TypeError("A Promise cannot resolve to itself"));else if(a instanceof f)this.settleSameAsPromise_(a);else{a:switch(typeof a){case "object":var c=null!=a;break a;case "function":c=!0;break a;default:c=!1}c?this.resolveToNonPromiseObj_(a):this.fulfill_(a)}};f.prototype.resolveToNonPromiseObj_=function(a){var c=
void 0;try{c=a.then}catch(h){this.reject_(h);return}"function"==typeof c?this.settleSameAsThenable_(c,a):this.fulfill_(a)};f.prototype.reject_=function(a){this.settle_(2,a)};f.prototype.fulfill_=function(a){this.settle_(1,a)};f.prototype.settle_=function(a,b){if(0!=this.state_)throw Error("Cannot settle("+a+", "+b+"): Promise already settled in state"+this.state_);this.state_=a;this.result_=b;this.executeOnSettledCallbacks_()};f.prototype.executeOnSettledCallbacks_=function(){if(null!=this.onSettledCallbacks_){for(var a=
this.onSettledCallbacks_,b=0;b<a.length;++b)a[b].call(),a[b]=null;this.onSettledCallbacks_=null}};var g=new b;f.prototype.settleSameAsPromise_=function(a){var b=this.createResolveAndReject_();a.callWhenSettled_(b.resolve,b.reject)};f.prototype.settleSameAsThenable_=function(a,b){var c=this.createResolveAndReject_();try{a.call(b,c.resolve,c.reject)}catch(n){c.reject(n)}};f.prototype.then=function(a,b){function c(a,b){return"function"==typeof a?function(b){try{d(a(b))}catch(y){e(y)}}:b}var d,e,m=new f(function(a,
b){d=a;e=b});this.callWhenSettled_(c(a,d),c(b,e));return m};f.prototype.catch=function(a){return this.then(void 0,a)};f.prototype.callWhenSettled_=function(a,b){function c(){switch(d.state_){case 1:a(d.result_);break;case 2:b(d.result_);break;default:throw Error("Unexpected state: "+d.state_);}}var d=this;null==this.onSettledCallbacks_?g.asyncExecute(c):this.onSettledCallbacks_.push(function(){g.asyncExecute(c)})};f.resolve=d;f.reject=function(a){return new f(function(b,c){c(a)})};f.race=function(a){return new f(function(b,
c){for(var h=$jscomp.makeIterator(a),e=h.next();!e.done;e=h.next())d(e.value).callWhenSettled_(b,c)})};f.all=function(a){var b=$jscomp.makeIterator(a),c=b.next();return c.done?d([]):new f(function(a,h){function e(b){return function(c){f[b]=c;n--;0==n&&a(f)}}var f=[],n=0;do f.push(void 0),n++,d(c.value).callWhenSettled_(e(f.length-1),h),c=b.next();while(!c.done)})};return f},"es6","es3");
$jscomp.asyncExecutePromiseGenerator=function(a){function b(b){return a.next(b)}function d(b){return a.throw(b)}return new Promise(function(e,f){function g(a){a.done?e(a.value):Promise.resolve(a.value).then(b,d).then(g,f)}g(a.next())})};$jscomp.asyncExecutePromiseGeneratorFunction=function(a){return $jscomp.asyncExecutePromiseGenerator(a())};$jscomp.objectCreate=$jscomp.ASSUME_ES5||"function"==typeof Object.create?Object.create:function(a){var b=function(){};b.prototype=a;return new b};
$jscomp.underscoreProtoCanBeSet=function(){var a={a:!0},b={};try{return b.__proto__=a,b.a}catch(d){}return!1};$jscomp.setPrototypeOf="function"==typeof Object.setPrototypeOf?Object.setPrototypeOf:$jscomp.underscoreProtoCanBeSet()?function(a,b){a.__proto__=b;if(a.__proto__!==b)throw new TypeError(a+" is not extensible");return a}:null;
$jscomp.inherits=function(a,b){a.prototype=$jscomp.objectCreate(b.prototype);a.prototype.constructor=a;if($jscomp.setPrototypeOf){var d=$jscomp.setPrototypeOf;d(a,b)}else for(d in b)if("prototype"!=d)if(Object.defineProperties){var e=Object.getOwnPropertyDescriptor(b,d);e&&Object.defineProperty(a,d,e)}else a[d]=b[d];a.superClass_=b.prototype};$jscomp.generator={};
$jscomp.generator.ensureIteratorResultIsObject_=function(a){if(!(a instanceof Object))throw new TypeError("Iterator result "+a+" is not an object");};$jscomp.generator.Context=function(){this.isRunning_=!1;this.yieldAllIterator_=null;this.yieldResult=void 0;this.nextAddress=1;this.finallyAddress_=this.catchAddress_=0;this.finallyContexts_=this.abruptCompletion_=null};
$jscomp.generator.Context.prototype.start_=function(){if(this.isRunning_)throw new TypeError("Generator is already running");this.isRunning_=!0};$jscomp.generator.Context.prototype.stop_=function(){this.isRunning_=!1};$jscomp.generator.Context.prototype.jumpToErrorHandler_=function(){this.nextAddress=this.catchAddress_||this.finallyAddress_};$jscomp.generator.Context.prototype.next_=function(a){this.yieldResult=a};
$jscomp.generator.Context.prototype.throw_=function(a){this.abruptCompletion_={exception:a,isException:!0};this.jumpToErrorHandler_()};$jscomp.generator.Context.prototype.return=function(a){this.abruptCompletion_={return:a};this.nextAddress=this.finallyAddress_};$jscomp.generator.Context.prototype.jumpThroughFinallyBlocks=function(a){this.abruptCompletion_={jumpTo:a};this.nextAddress=this.finallyAddress_};$jscomp.generator.Context.prototype.yield=function(a,b){this.nextAddress=b;return{value:a}};
$jscomp.generator.Context.prototype.yieldAll=function(a,b){a=$jscomp.makeIterator(a);var d=a.next();$jscomp.generator.ensureIteratorResultIsObject_(d);if(d.done)this.yieldResult=d.value,this.nextAddress=b;else return this.yieldAllIterator_=a,this.yield(d.value,b)};$jscomp.generator.Context.prototype.jumpTo=function(a){this.nextAddress=a};$jscomp.generator.Context.prototype.jumpToEnd=function(){this.nextAddress=0};
$jscomp.generator.Context.prototype.setCatchFinallyBlocks=function(a,b){this.catchAddress_=a;void 0!=b&&(this.finallyAddress_=b)};$jscomp.generator.Context.prototype.setFinallyBlock=function(a){this.catchAddress_=0;this.finallyAddress_=a||0};$jscomp.generator.Context.prototype.leaveTryBlock=function(a,b){this.nextAddress=a;this.catchAddress_=b||0};
$jscomp.generator.Context.prototype.enterCatchBlock=function(a){this.catchAddress_=a||0;a=this.abruptCompletion_.exception;this.abruptCompletion_=null;return a};$jscomp.generator.Context.prototype.enterFinallyBlock=function(a,b,d){d?this.finallyContexts_[d]=this.abruptCompletion_:this.finallyContexts_=[this.abruptCompletion_];this.catchAddress_=a||0;this.finallyAddress_=b||0};
$jscomp.generator.Context.prototype.leaveFinallyBlock=function(a,b){b=this.finallyContexts_.splice(b||0)[0];if(b=this.abruptCompletion_=this.abruptCompletion_||b){if(b.isException)return this.jumpToErrorHandler_();void 0!=b.jumpTo&&this.finallyAddress_<b.jumpTo?(this.nextAddress=b.jumpTo,this.abruptCompletion_=null):this.nextAddress=this.finallyAddress_}else this.nextAddress=a};$jscomp.generator.Context.prototype.forIn=function(a){return new $jscomp.generator.Context.PropertyIterator(a)};
$jscomp.generator.Context.PropertyIterator=function(a){this.object_=a;this.properties_=[];for(var b in a)this.properties_.push(b);this.properties_.reverse()};$jscomp.generator.Context.PropertyIterator.prototype.getNext=function(){for(;0<this.properties_.length;){var a=this.properties_.pop();if(a in this.object_)return a}return null};$jscomp.generator.Engine_=function(a){this.context_=new $jscomp.generator.Context;this.program_=a};
$jscomp.generator.Engine_.prototype.next_=function(a){this.context_.start_();if(this.context_.yieldAllIterator_)return this.yieldAllStep_(this.context_.yieldAllIterator_.next,a,this.context_.next_);this.context_.next_(a);return this.nextStep_()};
$jscomp.generator.Engine_.prototype.return_=function(a){this.context_.start_();var b=this.context_.yieldAllIterator_;if(b)return this.yieldAllStep_("return"in b?b["return"]:function(a){return{value:a,done:!0}},a,this.context_.return);this.context_.return(a);return this.nextStep_()};
$jscomp.generator.Engine_.prototype.throw_=function(a){this.context_.start_();if(this.context_.yieldAllIterator_)return this.yieldAllStep_(this.context_.yieldAllIterator_["throw"],a,this.context_.next_);this.context_.throw_(a);return this.nextStep_()};
$jscomp.generator.Engine_.prototype.yieldAllStep_=function(a,b,d){try{var e=a.call(this.context_.yieldAllIterator_,b);$jscomp.generator.ensureIteratorResultIsObject_(e);if(!e.done)return this.context_.stop_(),e;var f=e.value}catch(g){return this.context_.yieldAllIterator_=null,this.context_.throw_(g),this.nextStep_()}this.context_.yieldAllIterator_=null;d.call(this.context_,f);return this.nextStep_()};
$jscomp.generator.Engine_.prototype.nextStep_=function(){for(;this.context_.nextAddress;)try{var a=this.program_(this.context_);if(a)return this.context_.stop_(),{value:a.value,done:!1}}catch(b){this.context_.yieldResult=void 0,this.context_.throw_(b)}this.context_.stop_();if(this.context_.abruptCompletion_){a=this.context_.abruptCompletion_;this.context_.abruptCompletion_=null;if(a.isException)throw a.exception;return{value:a.return,done:!0}}return{value:void 0,done:!0}};
$jscomp.generator.Generator_=function(a){this.next=function(b){return a.next_(b)};this.throw=function(b){return a.throw_(b)};this.return=function(b){return a.return_(b)};$jscomp.initSymbolIterator();this[Symbol.iterator]=function(){return this}};$jscomp.generator.createGenerator=function(a,b){$jscomp.generator.Generator_.prototype=a.prototype;return new $jscomp.generator.Generator_(new $jscomp.generator.Engine_(b))};
$jscomp.polyfill("Array.from",function(a){return a?a:function(a,d,e){$jscomp.initSymbolIterator();d=null!=d?d:function(a){return a};var b=[],g=a[Symbol.iterator];if("function"==typeof g)for(a=g.call(a);!(g=a.next()).done;)b.push(d.call(e,g.value));else{g=a.length;for(var c=0;c<g;c++)b.push(d.call(e,a[c]))}return b}},"es6","es3");$jscomp.checkEs6ConformanceViaProxy=function(){try{var a={},b=Object.create(new $jscomp.global.Proxy(a,{get:function(d,e,f){return d==a&&"q"==e&&f==b}}));return!0===b.q}catch(d){return!1}};
$jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS=!1;$jscomp.ES6_CONFORMANCE=$jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS&&$jscomp.checkEs6ConformanceViaProxy();$jscomp.owns=function(a,b){return Object.prototype.hasOwnProperty.call(a,b)};
$jscomp.polyfill("WeakMap",function(a){function b(){if(!a||!Object.seal)return!1;try{var b=Object.seal({}),c=Object.seal({}),d=new a([[b,2],[c,3]]);if(2!=d.get(b)||3!=d.get(c))return!1;d.delete(b);d.set(c,4);return!d.has(b)&&4==d.get(c)}catch(U){return!1}}function d(a){$jscomp.owns(a,f)||$jscomp.defineProperty(a,f,{value:{}})}function e(a){var b=Object[a];b&&(Object[a]=function(a){d(a);return b(a)})}if($jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS){if(a&&$jscomp.ES6_CONFORMANCE)return a}else if(b())return a;
var f="$jscomp_hidden_"+Math.random();e("freeze");e("preventExtensions");e("seal");var g=0,c=function(a){this.id_=(g+=Math.random()+1).toString();if(a){$jscomp.initSymbol();$jscomp.initSymbolIterator();a=$jscomp.makeIterator(a);for(var b;!(b=a.next()).done;)b=b.value,this.set(b[0],b[1])}};c.prototype.set=function(a,b){d(a);if(!$jscomp.owns(a,f))throw Error("WeakMap key fail: "+a);a[f][this.id_]=b;return this};c.prototype.get=function(a){return $jscomp.owns(a,f)?a[f][this.id_]:void 0};c.prototype.has=
function(a){return $jscomp.owns(a,f)&&$jscomp.owns(a[f],this.id_)};c.prototype.delete=function(a){return $jscomp.owns(a,f)&&$jscomp.owns(a[f],this.id_)?delete a[f][this.id_]:!1};return c},"es6","es3");$jscomp.MapEntry=function(){};
$jscomp.polyfill("Map",function(a){function b(){if($jscomp.ASSUME_NO_NATIVE_MAP||!a||"function"!=typeof a||!a.prototype.entries||"function"!=typeof Object.seal)return!1;try{var b=Object.seal({x:4}),c=new a($jscomp.makeIterator([[b,"s"]]));if("s"!=c.get(b)||1!=c.size||c.get({x:4})||c.set({x:4},"t")!=c||2!=c.size)return!1;var d=c.entries(),e=d.next();if(e.done||e.value[0]!=b||"s"!=e.value[1])return!1;e=d.next();return e.done||4!=e.value[0].x||"t"!=e.value[1]||!d.next().done?!1:!0}catch(I){return!1}}
if($jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS){if(a&&$jscomp.ES6_CONFORMANCE)return a}else if(b())return a;$jscomp.initSymbol();$jscomp.initSymbolIterator();var d=new WeakMap,e=function(a){this.data_={};this.head_=c();this.size=0;if(a){a=$jscomp.makeIterator(a);for(var b;!(b=a.next()).done;)b=b.value,this.set(b[0],b[1])}};e.prototype.set=function(a,b){var c=f(this,a);c.list||(c.list=this.data_[c.id]=[]);c.entry?c.entry.value=b:(c.entry={next:this.head_,previous:this.head_.previous,head:this.head_,
key:a,value:b},c.list.push(c.entry),this.head_.previous.next=c.entry,this.head_.previous=c.entry,this.size++);return this};e.prototype.delete=function(a){a=f(this,a);return a.entry&&a.list?(a.list.splice(a.index,1),a.list.length||delete this.data_[a.id],a.entry.previous.next=a.entry.next,a.entry.next.previous=a.entry.previous,a.entry.head=null,this.size--,!0):!1};e.prototype.clear=function(){this.data_={};this.head_=this.head_.previous=c();this.size=0};e.prototype.has=function(a){return!!f(this,a).entry};
e.prototype.get=function(a){return(a=f(this,a).entry)&&a.value};e.prototype.entries=function(){return g(this,function(a){return[a.key,a.value]})};e.prototype.keys=function(){return g(this,function(a){return a.key})};e.prototype.values=function(){return g(this,function(a){return a.value})};e.prototype.forEach=function(a,b){for(var c=this.entries(),d;!(d=c.next()).done;)d=d.value,a.call(b,d[1],d[0],this)};e.prototype[Symbol.iterator]=e.prototype.entries;var f=function(a,b){var c=b&&typeof b;"object"==
c||"function"==c?d.has(b)?c=d.get(b):(c=""+ ++m,d.set(b,c)):c="p_"+b;var e=a.data_[c];if(e&&$jscomp.owns(a.data_,c))for(a=0;a<e.length;a++){var f=e[a];if(b!==b&&f.key!==f.key||b===f.key)return{id:c,list:e,index:a,entry:f}}return{id:c,list:e,index:-1,entry:void 0}},g=function(a,b){var c=a.head_;return $jscomp.iteratorPrototype(function(){if(c){for(;c.head!=a.head_;)c=c.previous;for(;c.next!=c.head;)return c=c.next,{done:!1,value:b(c)};c=null}return{done:!0,value:void 0}})},c=function(){var a={};return a.previous=
a.next=a.head=a},m=0;return e},"es6","es3");
$jscomp.polyfill("Set",function(a){function b(){if($jscomp.ASSUME_NO_NATIVE_SET||!a||"function"!=typeof a||!a.prototype.entries||"function"!=typeof Object.seal)return!1;try{var b=Object.seal({x:4}),d=new a($jscomp.makeIterator([b]));if(!d.has(b)||1!=d.size||d.add(b)!=d||1!=d.size||d.add({x:4})!=d||2!=d.size)return!1;var g=d.entries(),c=g.next();if(c.done||c.value[0]!=b||c.value[1]!=b)return!1;c=g.next();return c.done||c.value[0]==b||4!=c.value[0].x||c.value[1]!=c.value[0]?!1:g.next().done}catch(m){return!1}}
if($jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS){if(a&&$jscomp.ES6_CONFORMANCE)return a}else if(b())return a;$jscomp.initSymbol();$jscomp.initSymbolIterator();var d=function(a){this.map_=new Map;if(a){a=$jscomp.makeIterator(a);for(var b;!(b=a.next()).done;)this.add(b.value)}this.size=this.map_.size};d.prototype.add=function(a){this.map_.set(a,a);this.size=this.map_.size;return this};d.prototype.delete=function(a){a=this.map_.delete(a);this.size=this.map_.size;return a};d.prototype.clear=function(){this.map_.clear();
this.size=0};d.prototype.has=function(a){return this.map_.has(a)};d.prototype.entries=function(){return this.map_.entries()};d.prototype.values=function(){return this.map_.values()};d.prototype.keys=d.prototype.values;d.prototype[Symbol.iterator]=d.prototype.values;d.prototype.forEach=function(a,b){var d=this;this.map_.forEach(function(c){return a.call(b,c,c,d)})};return d},"es6","es3");
$jscomp.polyfill("Object.is",function(a){return a?a:function(a,d){return a===d?0!==a||1/a===1/d:a!==a&&d!==d}},"es6","es3");$jscomp.polyfill("Array.prototype.includes",function(a){return a?a:function(a,d){var b=this;b instanceof String&&(b=String(b));var f=b.length;for(d=d||0;d<f;d++)if(b[d]==a||Object.is(b[d],a))return!0;return!1}},"es7","es3");
$jscomp.checkStringArgs=function(a,b,d){if(null==a)throw new TypeError("The 'this' value for String.prototype."+d+" must not be null or undefined");if(b instanceof RegExp)throw new TypeError("First argument to String.prototype."+d+" must not be a regular expression");return a+""};$jscomp.polyfill("String.prototype.includes",function(a){return a?a:function(a,d){return-1!==$jscomp.checkStringArgs(this,a,"includes").indexOf(a,d||0)}},"es6","es3");
(function(a){return $jscomp.asyncExecutePromiseGeneratorFunction(function d(){function e(a){da.is(":checked")&&(c("a.delete").get().forEach(function(d){d=c(d);if(d.data(J)===a){d.closest(z).prev().addBack().remove();var u=+K.attr("max")-1;[L,K,Y].forEach(function(a){a=c(a);a.attr("max",u).val(Math.min(+a.val(),u))})}}),g())}function f(a){var c=a.lastIndexOf("/");if(0>a.indexOf("\n")&&a.match(/^\/.*?\/[mi]*$/))try{return new RegExp(a.substring(1,c),a.substring(c+1))}catch(fa){}}function g(){var a=
A.val();A.html("").append("<option/>").append(Array.from(new Set(l.getNowCommonsRows(function(){return!0}).get().map(function(a){return a.uploaders})._flatten())).sort().map(function(a){return c("<option/>").val(a).text(a)[0]}));A.val(a)}var c,m,h,n,U,X,I,V,W,y,Z,aa,B,J,z,C,M,N,da,O,v,Y,K,L,P,Q,A,p,R,w,q,D,E,S,l,F,k,r,t,T,G,H,x,ba,ca;return $jscomp.generator.createGenerator(d,function(d){switch(d.nextAddress){case 1:return c=a.$,m="#auto-delete",h="#auto-mark",n=m+"-remove-deleted",U=m+"-nc",X=m+
"-ok",I=m+"-test",V=h+"-ok",W=h+"-test",y=h+"-text",Z=h+"-text-omit",aa=".mark-auto",B="ncAction",J="name",z=".nc-row",C="selected",M="."+C,N=a.MDialog,p=function(){},p.prototype.match=function(){},R=function(a){var c=p.call(this)||this;c._user=a;return c},$jscomp.inherits(R,p),R.prototype.match=function(a){return a.uploaders.includes(this._user)},w=function(a){var c=p.call(this)||this;c.match=a;return c},$jscomp.inherits(w,p),q=function(){var a=p.call(this)||this;a.__matchOne=a._matchOne.bind(a);
return a},$jscomp.inherits(q,p),q.prototype.match=function(a){a=a.texts.some(this.__matchOne);this._filter&&(a=this._filter(a));return a},q.prototype.setFilter=function(a){this._filter=a},D=function(a){var c=q.call(this)||this;c._regex=a;return c},$jscomp.inherits(D,q),D.prototype._matchOne=function(a){return a.match(this._regex)},E=function(a){var c=q.call(this)||this;c._needle=a;return c},$jscomp.inherits(E,q),E.prototype._matchOne=function(a){return-1<a.toUpperCase().indexOf(this._needle)},S=function(a){this._div=
a;this.texts=c(".text",a).get().map(function(a){return c(a).text()});this.deleteLink=c(".delete",a)},S.prototype.toggleSelect=function(a){this._div.toggleClass(C,a)},$jscomp.global.Object.defineProperties(S.prototype,{deleteReason:{configurable:!0,enumerable:!0,get:function(){return this.deleteLink.data("reason")}},localName:{configurable:!0,enumerable:!0,get:function(){return this.deleteLink.data(J)}},nowCommonsLink:{configurable:!0,enumerable:!0,get:function(){return c(".nowcommons",this._div)}},
selected:{configurable:!0,enumerable:!0,get:function(){return this._div.is(M)}},hasWarnings:{configurable:!0,enumerable:!0,get:function(){return c(".mark-problematic,.mark-keeplocal,.error-warning",this._div)[0]}},hasLinks:{configurable:!0,enumerable:!0,get:function(){return c(".linkback",this._div)[0]}},needsTransfer:{configurable:!0,enumerable:!0,get:function(){return c(".oldver",this._div)[0]}},hasTalk:{configurable:!0,enumerable:!0,get:function(){return c(".talk",this._div)[0]}},uploaders:{configurable:!0,
enumerable:!0,get:function(){return c(".user",this._div).get().map(function(a){return c(a).text()})}}}),l=function(){},l.prototype._run=function(){},l.prototype.run=function(){var a=this.test().get().slice(this.min(),this.max());this.confirm(a.length)&&this._run(a);this.postRun(a)},l.prototype.postRun=function(){},l.prototype.confirm=function(){return!0},l.prototype.min=function(){return 0},l.prototype.max=function(){return Number.MAX_VALUE},l.prototype.test=function(){},l.getNowCommonsRows=function(a){return c(z).map(function(){var d=
new S(c(this).prev(z).addBack());if(a(d))return d})},F=function(a){var c=l.call(this)||this;c._action=a;return c},$jscomp.inherits(F,l),F.prototype.run=function(){return this._action.run.call(this._action)},F.prototype.test=function(){return this._action.test.call(this._action)},k=function(a){return l.apply(this,arguments)||this},$jscomp.inherits(k,l),k.prototype.confirm=function(c){return a.confirm("Delete "+c+" files?")},k.prototype._run=function(a){this._markedRun(a)},k.prototype.test=function(){return l.getNowCommonsRows(function(a){return a.selected})},
k.prototype.max=function(){return L.val()},k.prototype.postRun=function(){P.close()},r=function(a){return l.apply(this,arguments)||this},$jscomp.inherits(r,l),r.prototype.min=function(){return+Y.val()},r.prototype.max=function(){return+K.val()},r.prototype._run=function(a){this.rows=a;a.forEach(function(a){a.toggleSelect(!0)})},r.prototype.test=function(){var a=c(y).val().trim().replace(/\n/g,"").trim(),d=f(a),e=c(Z).val().trim().replace(/\n/g,"").trim(),g=f(e),h=A.val().trim(),k=[];if(!a&&!h)throw"Please enter a value into the text box.";
h&&k.push(new R(h));a&&k.push(d?new D(d):new E(a.toUpperCase()));e&&(a=g?new D(g):new E(e.toUpperCase()),a.setFilter(function(a){return!a}),k.push(a));c("#include-warnings:checked")[0]||k.push(new w(function(a){return!a.hasWarnings}));c("#include-diff-name:checked")[0]||k.push(new w(function(a){return!a.hasLinks}));c("#include-multiple:checked")[0]||k.push(new w(function(a){return!a.needsTransfer}));c("#include-talk:checked")[0]||k.push(new w(function(a){return!a.hasTalk}));return l.getNowCommonsRows(function(a){return k.every(function(c){return c.match(a)})})},
r.prototype.postRun=function(){Q.close()},t=function(a){return k.apply(this,arguments)||this},$jscomp.inherits(t,k),t.prototype._markedRun=function(c){var d=this._getAutoOpenLink.bind(this);c.forEach(function(c){a.open(d(c).attr("href"),"_blank");c.toggleSelect(!1)})},t.prototype.postRun=function(a){a.forEach(function(a){return e(a.localName)});k.prototype.postRun.call(this)},T=function(a){return k.apply(this,arguments)||this},$jscomp.inherits(T,k),T.prototype._markedRun=function(a){var d={};a.forEach(function(a){a=
c(a.deleteLink);d[a.data(J)]=a.data("reason")});v.text(+v.text()+a.length);this.xDomain.postMessage(d)},G=function(a){return t.apply(this,arguments)||this},$jscomp.inherits(G,t),G.prototype._getAutoOpenLink=function(a){return a.deleteLink},H=function(a){return t.apply(this,arguments)||this},$jscomp.inherits(H,t),H.prototype.confirm=function(c){return a.confirm("Delete "+c+" files?")},H.prototype._getAutoOpenLink=function(a){return a.nowCommonsLink},x=new F(new G),a.XDomain.global(function(d){return $jscomp.asyncExecutePromiseGeneratorFunction(function ea(){return $jscomp.generator.createGenerator(ea,
function(f){switch(f.nextAddress){case 1:return f.yield(d.promise(),2);case 2:v.text(0),a.topBar({css:{background:"#000099"},message:"Ajax delete detected"}),x._action=new T,c(function(){O.closest(".table-row").hide()}),d.addListener(function(c){v.text(v.text()-1);"success"===c.status?(a.topBar({css:{background:"#009999"},delay:2E3,message:c.page+": deleted"}),e(c.page)):a.topBar(c.page+": "+c.message)}),x._action.xDomain=d,f.jumpToEnd()}})})}),a.observeDom(function(){return c.isReady}).progress(function(){c("#ready-count").html(Math.floor(c("input.file").length/
c("#files-count").val()*100))}),c(a).on("beforeunload",function(){var a=c(M).length/2;if(a)return"You have "+a+" selections outstanding"}),d.yield(c.ready,2);case 2:ba=c(".close-buttons"),A=c("#auto-user"),da=c(n),O=c(U),v=c(".ajax-count"),Y=c("#auto-mark-start"),K=c("#auto-mark-count"),L=c("#auto-delete-count"),g(),c("#doc-load-per,.ready-count,.bottom-buttons").toggle(),c(aa).click(function(){c(this).closest(z).toggleClass(C)}),c("#clear-marks").click(function(){c(M).removeClass(C)}),c(".delink,"+
aa).click(function(a){a.preventDefault()}),c(y+","+Z).on("keydown paste drop focus",function(){var a=this;setTimeout(function(){var d=c(a);d.toggleClass("regex",!!f(d.val()))},1)}),O.change(function(){x._action=O.is(":checked")?new H:new G}),c(V+","+W).data(B,new r),c(X+","+I).data(B,x),c(X+","+V).click(function(){try{c(this).data(B).run()}catch(u){a.alert(u)}}),c(W+","+I).click(function(){try{c("#count").html(c(this).data(B).test().length),ca.open()}catch(u){a.alert(u)}}),ba.click(function(){c(".bottom-buttons-buttons > *").animate({width:"toggle"},
350);ba.toggleClass("glyphicon-menu-left")}),ca=new N("#auto-files-found"),ca.addCloseButton("#auto-delete-found-ok"),P=new N(m,{open:function(){var a=x.test().length;L.val(a).attr("max",a)}}),P.addOpenButton("#auto-delete-open"),P.addCloseButton("#auto-delete-cancel"),Q=new N(h),Q.addOpenButton(h+"-open"),Q.addCloseButton(h+"-cancel"),d.jumpToEnd()}})})})(window); //# sourceMappingURL=js/nowcommonslist.js.map
